{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createSlider;\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _createSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createSuper\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _addEventListener = _interopRequireDefault(require(\"rc-util/lib/Dom/addEventListener\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _warning = _interopRequireDefault(require(\"rc-util/lib/warning\"));\n\nvar _Steps = _interopRequireDefault(require(\"./Steps\"));\n\nvar _Marks = _interopRequireDefault(require(\"./Marks\"));\n\nvar _Handle = _interopRequireDefault(require(\"../Handle\"));\n\nvar utils = _interopRequireWildcard(require(\"../utils\"));\n\nfunction noop() {}\n\nfunction createSlider(Component) {\n  var _a;\n\n  return _a = /*#__PURE__*/function (_Component) {\n    (0, _inherits2.default)(ComponentEnhancer, _Component);\n\n    var _super = (0, _createSuper2.default)(ComponentEnhancer);\n\n    function ComponentEnhancer(props) {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, ComponentEnhancer);\n      _this = _super.call(this, props);\n\n      _this.onMouseDown = function (e) {\n        if (e.button !== 0) {\n          return;\n        }\n\n        var isVertical = _this.props.vertical;\n        var position = utils.getMousePosition(isVertical, e);\n\n        if (!utils.isEventFromHandle(e, _this.handlesRefs)) {\n          _this.dragOffset = 0;\n        } else {\n          var handlePosition = utils.getHandleCenterPosition(isVertical, e.target);\n          _this.dragOffset = position - handlePosition;\n          position = handlePosition;\n        }\n\n        _this.removeDocumentEvents();\n\n        _this.onStart(position);\n\n        _this.addDocumentMouseEvents();\n      };\n\n      _this.onTouchStart = function (e) {\n        if (utils.isNotTouchEvent(e)) return;\n        var isVertical = _this.props.vertical;\n        var position = utils.getTouchPosition(isVertical, e);\n\n        if (!utils.isEventFromHandle(e, _this.handlesRefs)) {\n          _this.dragOffset = 0;\n        } else {\n          var handlePosition = utils.getHandleCenterPosition(isVertical, e.target);\n          _this.dragOffset = position - handlePosition;\n          position = handlePosition;\n        }\n\n        _this.onStart(position);\n\n        _this.addDocumentTouchEvents();\n\n        utils.pauseEvent(e);\n      };\n\n      _this.onFocus = function (e) {\n        var _this$props = _this.props,\n            onFocus = _this$props.onFocus,\n            vertical = _this$props.vertical;\n\n        if (utils.isEventFromHandle(e, _this.handlesRefs)) {\n          var handlePosition = utils.getHandleCenterPosition(vertical, e.target);\n          _this.dragOffset = 0;\n\n          _this.onStart(handlePosition);\n\n          utils.pauseEvent(e);\n\n          if (onFocus) {\n            onFocus(e);\n          }\n        }\n      };\n\n      _this.onBlur = function (e) {\n        var onBlur = _this.props.onBlur;\n\n        _this.onEnd();\n\n        if (onBlur) {\n          onBlur(e);\n        }\n      };\n\n      _this.onMouseUp = function () {\n        if (_this.handlesRefs[_this.prevMovedHandleIndex]) {\n          _this.handlesRefs[_this.prevMovedHandleIndex].clickFocus();\n        }\n      };\n\n      _this.onMouseMove = function (e) {\n        if (!_this.sliderRef) {\n          _this.onEnd();\n\n          return;\n        }\n\n        var position = utils.getMousePosition(_this.props.vertical, e);\n\n        _this.onMove(e, position - _this.dragOffset);\n      };\n\n      _this.onTouchMove = function (e) {\n        if (utils.isNotTouchEvent(e) || !_this.sliderRef) {\n          _this.onEnd();\n\n          return;\n        }\n\n        var position = utils.getTouchPosition(_this.props.vertical, e);\n\n        _this.onMove(e, position - _this.dragOffset);\n      };\n\n      _this.onKeyDown = function (e) {\n        if (_this.sliderRef && utils.isEventFromHandle(e, _this.handlesRefs)) {\n          _this.onKeyboard(e);\n        }\n      };\n\n      _this.onClickMarkLabel = function (e, value) {\n        e.stopPropagation();\n\n        _this.onChange({\n          value: value\n        });\n\n        _this.setState({\n          value: value\n        }, function () {\n          return _this.onEnd(true);\n        });\n      };\n\n      _this.saveSlider = function (slider) {\n        _this.sliderRef = slider;\n      };\n\n      var step = props.step,\n          max = props.max,\n          min = props.min;\n      var isPointDiffEven = isFinite(max - min) ? (max - min) % step === 0 : true; // eslint-disable-line\n\n      (0, _warning.default)(step && Math.floor(step) === step ? isPointDiffEven : true, \"Slider[max] - Slider[min] (\".concat(max - min, \") should be a multiple of Slider[step] (\").concat(step, \")\"));\n      _this.handlesRefs = {};\n      return _this;\n    }\n\n    (0, _createClass2.default)(ComponentEnhancer, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        // Snapshot testing cannot handle refs, so be sure to null-check this.\n        this.document = this.sliderRef && this.sliderRef.ownerDocument;\n        var _this$props2 = this.props,\n            autoFocus = _this$props2.autoFocus,\n            disabled = _this$props2.disabled;\n\n        if (autoFocus && !disabled) {\n          this.focus();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        if ((0, _get2.default)((0, _getPrototypeOf2.default)(ComponentEnhancer.prototype), \"componentWillUnmount\", this)) (0, _get2.default)((0, _getPrototypeOf2.default)(ComponentEnhancer.prototype), \"componentWillUnmount\", this).call(this);\n        this.removeDocumentEvents();\n      }\n    }, {\n      key: \"getSliderStart\",\n      value: function getSliderStart() {\n        var slider = this.sliderRef;\n        var _this$props3 = this.props,\n            vertical = _this$props3.vertical,\n            reverse = _this$props3.reverse;\n        var rect = slider.getBoundingClientRect();\n\n        if (vertical) {\n          return reverse ? rect.bottom : rect.top;\n        }\n\n        return window.pageXOffset + (reverse ? rect.right : rect.left);\n      }\n    }, {\n      key: \"getSliderLength\",\n      value: function getSliderLength() {\n        var slider = this.sliderRef;\n\n        if (!slider) {\n          return 0;\n        }\n\n        var coords = slider.getBoundingClientRect();\n        return this.props.vertical ? coords.height : coords.width;\n      }\n    }, {\n      key: \"addDocumentTouchEvents\",\n      value: function addDocumentTouchEvents() {\n        // just work for Chrome iOS Safari and Android Browser\n        this.onTouchMoveListener = (0, _addEventListener.default)(this.document, 'touchmove', this.onTouchMove);\n        this.onTouchUpListener = (0, _addEventListener.default)(this.document, 'touchend', this.onEnd);\n      }\n    }, {\n      key: \"addDocumentMouseEvents\",\n      value: function addDocumentMouseEvents() {\n        this.onMouseMoveListener = (0, _addEventListener.default)(this.document, 'mousemove', this.onMouseMove);\n        this.onMouseUpListener = (0, _addEventListener.default)(this.document, 'mouseup', this.onEnd);\n      }\n    }, {\n      key: \"removeDocumentEvents\",\n      value: function removeDocumentEvents() {\n        /* eslint-disable no-unused-expressions */\n        this.onTouchMoveListener && this.onTouchMoveListener.remove();\n        this.onTouchUpListener && this.onTouchUpListener.remove();\n        this.onMouseMoveListener && this.onMouseMoveListener.remove();\n        this.onMouseUpListener && this.onMouseUpListener.remove();\n        /* eslint-enable no-unused-expressions */\n      }\n    }, {\n      key: \"focus\",\n      value: function focus() {\n        if (!this.props.disabled) {\n          this.handlesRefs[0].focus();\n        }\n      }\n    }, {\n      key: \"blur\",\n      value: function blur() {\n        var _this2 = this;\n\n        if (!this.props.disabled) {\n          Object.keys(this.handlesRefs).forEach(function (key) {\n            if (_this2.handlesRefs[key] && _this2.handlesRefs[key].blur) {\n              _this2.handlesRefs[key].blur();\n            }\n          });\n        }\n      }\n    }, {\n      key: \"calcValue\",\n      value: function calcValue(offset) {\n        var _this$props4 = this.props,\n            vertical = _this$props4.vertical,\n            min = _this$props4.min,\n            max = _this$props4.max;\n        var ratio = Math.abs(Math.max(offset, 0) / this.getSliderLength());\n        var value = vertical ? (1 - ratio) * (max - min) + min : ratio * (max - min) + min;\n        return value;\n      }\n    }, {\n      key: \"calcValueByPos\",\n      value: function calcValueByPos(position) {\n        var sign = this.props.reverse ? -1 : +1;\n        var pixelOffset = sign * (position - this.getSliderStart());\n        var nextValue = this.trimAlignValue(this.calcValue(pixelOffset));\n        return nextValue;\n      }\n    }, {\n      key: \"calcOffset\",\n      value: function calcOffset(value) {\n        var _this$props5 = this.props,\n            min = _this$props5.min,\n            max = _this$props5.max;\n        var ratio = (value - min) / (max - min);\n        return Math.max(0, ratio * 100);\n      }\n    }, {\n      key: \"saveHandle\",\n      value: function saveHandle(index, handle) {\n        this.handlesRefs[index] = handle;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _classNames;\n\n        var _this$props6 = this.props,\n            prefixCls = _this$props6.prefixCls,\n            className = _this$props6.className,\n            marks = _this$props6.marks,\n            dots = _this$props6.dots,\n            step = _this$props6.step,\n            included = _this$props6.included,\n            disabled = _this$props6.disabled,\n            vertical = _this$props6.vertical,\n            reverse = _this$props6.reverse,\n            min = _this$props6.min,\n            max = _this$props6.max,\n            children = _this$props6.children,\n            maximumTrackStyle = _this$props6.maximumTrackStyle,\n            style = _this$props6.style,\n            railStyle = _this$props6.railStyle,\n            dotStyle = _this$props6.dotStyle,\n            activeDotStyle = _this$props6.activeDotStyle;\n\n        var _get$call = (0, _get2.default)((0, _getPrototypeOf2.default)(ComponentEnhancer.prototype), \"render\", this).call(this),\n            tracks = _get$call.tracks,\n            handles = _get$call.handles;\n\n        var sliderClassName = (0, _classnames.default)(prefixCls, (_classNames = {}, (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-with-marks\"), Object.keys(marks).length), (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-vertical\"), vertical), (0, _defineProperty2.default)(_classNames, className, className), _classNames));\n        return _react.default.createElement(\"div\", {\n          ref: this.saveSlider,\n          className: sliderClassName,\n          onTouchStart: disabled ? noop : this.onTouchStart,\n          onMouseDown: disabled ? noop : this.onMouseDown,\n          onMouseUp: disabled ? noop : this.onMouseUp,\n          onKeyDown: disabled ? noop : this.onKeyDown,\n          onFocus: disabled ? noop : this.onFocus,\n          onBlur: disabled ? noop : this.onBlur,\n          style: style\n        }, _react.default.createElement(\"div\", {\n          className: \"\".concat(prefixCls, \"-rail\"),\n          style: (0, _objectSpread2.default)((0, _objectSpread2.default)({}, maximumTrackStyle), railStyle)\n        }), tracks, _react.default.createElement(_Steps.default, {\n          prefixCls: prefixCls,\n          vertical: vertical,\n          reverse: reverse,\n          marks: marks,\n          dots: dots,\n          step: step,\n          included: included,\n          lowerBound: this.getLowerBound(),\n          upperBound: this.getUpperBound(),\n          max: max,\n          min: min,\n          dotStyle: dotStyle,\n          activeDotStyle: activeDotStyle\n        }), handles, _react.default.createElement(_Marks.default, {\n          className: \"\".concat(prefixCls, \"-mark\"),\n          onClickLabel: disabled ? noop : this.onClickMarkLabel,\n          vertical: vertical,\n          marks: marks,\n          included: included,\n          lowerBound: this.getLowerBound(),\n          upperBound: this.getUpperBound(),\n          max: max,\n          min: min,\n          reverse: reverse\n        }), children);\n      }\n    }]);\n    return ComponentEnhancer;\n  }(Component), _a.displayName = \"ComponentEnhancer(\".concat(Component.displayName, \")\"), _a.defaultProps = (0, _objectSpread2.default)((0, _objectSpread2.default)({}, Component.defaultProps), {}, {\n    prefixCls: 'rc-slider',\n    className: '',\n    min: 0,\n    max: 100,\n    step: 1,\n    marks: {},\n    handle: function handle(props) {\n      var index = props.index,\n          restProps = (0, _objectWithoutProperties2.default)(props, [\"index\"]);\n      delete restProps.dragging;\n\n      if (restProps.value === null) {\n        return null;\n      }\n\n      return _react.default.createElement(_Handle.default, Object.assign({}, restProps, {\n        key: index\n      }));\n    },\n    onBeforeChange: noop,\n    onChange: noop,\n    onAfterChange: noop,\n    included: true,\n    disabled: false,\n    dots: false,\n    vertical: false,\n    reverse: false,\n    trackStyle: [{}],\n    handleStyle: [{}],\n    railStyle: {},\n    dotStyle: {},\n    activeDotStyle: {}\n  }), _a;\n}","map":{"version":3,"sources":["E:/MoodyPlayer/client/node_modules/rc-slider/lib/common/createSlider.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","default","createSlider","_objectWithoutProperties2","_objectSpread2","_defineProperty2","_classCallCheck2","_createClass2","_get2","_getPrototypeOf2","_inherits2","_createSuper2","_react","_addEventListener","_classnames","_warning","_Steps","_Marks","_Handle","utils","noop","Component","_a","_Component","ComponentEnhancer","_super","props","_this","call","onMouseDown","e","button","isVertical","vertical","position","getMousePosition","isEventFromHandle","handlesRefs","dragOffset","handlePosition","getHandleCenterPosition","target","removeDocumentEvents","onStart","addDocumentMouseEvents","onTouchStart","isNotTouchEvent","getTouchPosition","addDocumentTouchEvents","pauseEvent","onFocus","_this$props","onBlur","onEnd","onMouseUp","prevMovedHandleIndex","clickFocus","onMouseMove","sliderRef","onMove","onTouchMove","onKeyDown","onKeyboard","onClickMarkLabel","stopPropagation","onChange","setState","saveSlider","slider","step","max","min","isPointDiffEven","isFinite","Math","floor","concat","key","componentDidMount","document","ownerDocument","_this$props2","autoFocus","disabled","focus","componentWillUnmount","prototype","getSliderStart","_this$props3","reverse","rect","getBoundingClientRect","bottom","top","window","pageXOffset","right","left","getSliderLength","coords","height","width","onTouchMoveListener","onTouchUpListener","onMouseMoveListener","onMouseUpListener","remove","blur","_this2","keys","forEach","calcValue","offset","_this$props4","ratio","abs","calcValueByPos","sign","pixelOffset","nextValue","trimAlignValue","calcOffset","_this$props5","saveHandle","index","handle","render","_classNames","_this$props6","prefixCls","className","marks","dots","included","children","maximumTrackStyle","style","railStyle","dotStyle","activeDotStyle","_get$call","tracks","handles","sliderClassName","length","createElement","ref","lowerBound","getLowerBound","upperBound","getUpperBound","onClickLabel","displayName","defaultProps","restProps","dragging","assign","onBeforeChange","onAfterChange","trackStyle","handleStyle"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createSlider;\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _createSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createSuper\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _addEventListener = _interopRequireDefault(require(\"rc-util/lib/Dom/addEventListener\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _warning = _interopRequireDefault(require(\"rc-util/lib/warning\"));\n\nvar _Steps = _interopRequireDefault(require(\"./Steps\"));\n\nvar _Marks = _interopRequireDefault(require(\"./Marks\"));\n\nvar _Handle = _interopRequireDefault(require(\"../Handle\"));\n\nvar utils = _interopRequireWildcard(require(\"../utils\"));\n\nfunction noop() {}\n\nfunction createSlider(Component) {\n  var _a;\n\n  return _a = /*#__PURE__*/function (_Component) {\n    (0, _inherits2.default)(ComponentEnhancer, _Component);\n\n    var _super = (0, _createSuper2.default)(ComponentEnhancer);\n\n    function ComponentEnhancer(props) {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, ComponentEnhancer);\n      _this = _super.call(this, props);\n\n      _this.onMouseDown = function (e) {\n        if (e.button !== 0) {\n          return;\n        }\n\n        var isVertical = _this.props.vertical;\n        var position = utils.getMousePosition(isVertical, e);\n\n        if (!utils.isEventFromHandle(e, _this.handlesRefs)) {\n          _this.dragOffset = 0;\n        } else {\n          var handlePosition = utils.getHandleCenterPosition(isVertical, e.target);\n          _this.dragOffset = position - handlePosition;\n          position = handlePosition;\n        }\n\n        _this.removeDocumentEvents();\n\n        _this.onStart(position);\n\n        _this.addDocumentMouseEvents();\n      };\n\n      _this.onTouchStart = function (e) {\n        if (utils.isNotTouchEvent(e)) return;\n        var isVertical = _this.props.vertical;\n        var position = utils.getTouchPosition(isVertical, e);\n\n        if (!utils.isEventFromHandle(e, _this.handlesRefs)) {\n          _this.dragOffset = 0;\n        } else {\n          var handlePosition = utils.getHandleCenterPosition(isVertical, e.target);\n          _this.dragOffset = position - handlePosition;\n          position = handlePosition;\n        }\n\n        _this.onStart(position);\n\n        _this.addDocumentTouchEvents();\n\n        utils.pauseEvent(e);\n      };\n\n      _this.onFocus = function (e) {\n        var _this$props = _this.props,\n            onFocus = _this$props.onFocus,\n            vertical = _this$props.vertical;\n\n        if (utils.isEventFromHandle(e, _this.handlesRefs)) {\n          var handlePosition = utils.getHandleCenterPosition(vertical, e.target);\n          _this.dragOffset = 0;\n\n          _this.onStart(handlePosition);\n\n          utils.pauseEvent(e);\n\n          if (onFocus) {\n            onFocus(e);\n          }\n        }\n      };\n\n      _this.onBlur = function (e) {\n        var onBlur = _this.props.onBlur;\n\n        _this.onEnd();\n\n        if (onBlur) {\n          onBlur(e);\n        }\n      };\n\n      _this.onMouseUp = function () {\n        if (_this.handlesRefs[_this.prevMovedHandleIndex]) {\n          _this.handlesRefs[_this.prevMovedHandleIndex].clickFocus();\n        }\n      };\n\n      _this.onMouseMove = function (e) {\n        if (!_this.sliderRef) {\n          _this.onEnd();\n\n          return;\n        }\n\n        var position = utils.getMousePosition(_this.props.vertical, e);\n\n        _this.onMove(e, position - _this.dragOffset);\n      };\n\n      _this.onTouchMove = function (e) {\n        if (utils.isNotTouchEvent(e) || !_this.sliderRef) {\n          _this.onEnd();\n\n          return;\n        }\n\n        var position = utils.getTouchPosition(_this.props.vertical, e);\n\n        _this.onMove(e, position - _this.dragOffset);\n      };\n\n      _this.onKeyDown = function (e) {\n        if (_this.sliderRef && utils.isEventFromHandle(e, _this.handlesRefs)) {\n          _this.onKeyboard(e);\n        }\n      };\n\n      _this.onClickMarkLabel = function (e, value) {\n        e.stopPropagation();\n\n        _this.onChange({\n          value: value\n        });\n\n        _this.setState({\n          value: value\n        }, function () {\n          return _this.onEnd(true);\n        });\n      };\n\n      _this.saveSlider = function (slider) {\n        _this.sliderRef = slider;\n      };\n\n      var step = props.step,\n          max = props.max,\n          min = props.min;\n      var isPointDiffEven = isFinite(max - min) ? (max - min) % step === 0 : true; // eslint-disable-line\n\n      (0, _warning.default)(step && Math.floor(step) === step ? isPointDiffEven : true, \"Slider[max] - Slider[min] (\".concat(max - min, \") should be a multiple of Slider[step] (\").concat(step, \")\"));\n      _this.handlesRefs = {};\n      return _this;\n    }\n\n    (0, _createClass2.default)(ComponentEnhancer, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        // Snapshot testing cannot handle refs, so be sure to null-check this.\n        this.document = this.sliderRef && this.sliderRef.ownerDocument;\n        var _this$props2 = this.props,\n            autoFocus = _this$props2.autoFocus,\n            disabled = _this$props2.disabled;\n\n        if (autoFocus && !disabled) {\n          this.focus();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        if ((0, _get2.default)((0, _getPrototypeOf2.default)(ComponentEnhancer.prototype), \"componentWillUnmount\", this)) (0, _get2.default)((0, _getPrototypeOf2.default)(ComponentEnhancer.prototype), \"componentWillUnmount\", this).call(this);\n        this.removeDocumentEvents();\n      }\n    }, {\n      key: \"getSliderStart\",\n      value: function getSliderStart() {\n        var slider = this.sliderRef;\n        var _this$props3 = this.props,\n            vertical = _this$props3.vertical,\n            reverse = _this$props3.reverse;\n        var rect = slider.getBoundingClientRect();\n\n        if (vertical) {\n          return reverse ? rect.bottom : rect.top;\n        }\n\n        return window.pageXOffset + (reverse ? rect.right : rect.left);\n      }\n    }, {\n      key: \"getSliderLength\",\n      value: function getSliderLength() {\n        var slider = this.sliderRef;\n\n        if (!slider) {\n          return 0;\n        }\n\n        var coords = slider.getBoundingClientRect();\n        return this.props.vertical ? coords.height : coords.width;\n      }\n    }, {\n      key: \"addDocumentTouchEvents\",\n      value: function addDocumentTouchEvents() {\n        // just work for Chrome iOS Safari and Android Browser\n        this.onTouchMoveListener = (0, _addEventListener.default)(this.document, 'touchmove', this.onTouchMove);\n        this.onTouchUpListener = (0, _addEventListener.default)(this.document, 'touchend', this.onEnd);\n      }\n    }, {\n      key: \"addDocumentMouseEvents\",\n      value: function addDocumentMouseEvents() {\n        this.onMouseMoveListener = (0, _addEventListener.default)(this.document, 'mousemove', this.onMouseMove);\n        this.onMouseUpListener = (0, _addEventListener.default)(this.document, 'mouseup', this.onEnd);\n      }\n    }, {\n      key: \"removeDocumentEvents\",\n      value: function removeDocumentEvents() {\n        /* eslint-disable no-unused-expressions */\n        this.onTouchMoveListener && this.onTouchMoveListener.remove();\n        this.onTouchUpListener && this.onTouchUpListener.remove();\n        this.onMouseMoveListener && this.onMouseMoveListener.remove();\n        this.onMouseUpListener && this.onMouseUpListener.remove();\n        /* eslint-enable no-unused-expressions */\n      }\n    }, {\n      key: \"focus\",\n      value: function focus() {\n        if (!this.props.disabled) {\n          this.handlesRefs[0].focus();\n        }\n      }\n    }, {\n      key: \"blur\",\n      value: function blur() {\n        var _this2 = this;\n\n        if (!this.props.disabled) {\n          Object.keys(this.handlesRefs).forEach(function (key) {\n            if (_this2.handlesRefs[key] && _this2.handlesRefs[key].blur) {\n              _this2.handlesRefs[key].blur();\n            }\n          });\n        }\n      }\n    }, {\n      key: \"calcValue\",\n      value: function calcValue(offset) {\n        var _this$props4 = this.props,\n            vertical = _this$props4.vertical,\n            min = _this$props4.min,\n            max = _this$props4.max;\n        var ratio = Math.abs(Math.max(offset, 0) / this.getSliderLength());\n        var value = vertical ? (1 - ratio) * (max - min) + min : ratio * (max - min) + min;\n        return value;\n      }\n    }, {\n      key: \"calcValueByPos\",\n      value: function calcValueByPos(position) {\n        var sign = this.props.reverse ? -1 : +1;\n        var pixelOffset = sign * (position - this.getSliderStart());\n        var nextValue = this.trimAlignValue(this.calcValue(pixelOffset));\n        return nextValue;\n      }\n    }, {\n      key: \"calcOffset\",\n      value: function calcOffset(value) {\n        var _this$props5 = this.props,\n            min = _this$props5.min,\n            max = _this$props5.max;\n        var ratio = (value - min) / (max - min);\n        return Math.max(0, ratio * 100);\n      }\n    }, {\n      key: \"saveHandle\",\n      value: function saveHandle(index, handle) {\n        this.handlesRefs[index] = handle;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _classNames;\n\n        var _this$props6 = this.props,\n            prefixCls = _this$props6.prefixCls,\n            className = _this$props6.className,\n            marks = _this$props6.marks,\n            dots = _this$props6.dots,\n            step = _this$props6.step,\n            included = _this$props6.included,\n            disabled = _this$props6.disabled,\n            vertical = _this$props6.vertical,\n            reverse = _this$props6.reverse,\n            min = _this$props6.min,\n            max = _this$props6.max,\n            children = _this$props6.children,\n            maximumTrackStyle = _this$props6.maximumTrackStyle,\n            style = _this$props6.style,\n            railStyle = _this$props6.railStyle,\n            dotStyle = _this$props6.dotStyle,\n            activeDotStyle = _this$props6.activeDotStyle;\n\n        var _get$call = (0, _get2.default)((0, _getPrototypeOf2.default)(ComponentEnhancer.prototype), \"render\", this).call(this),\n            tracks = _get$call.tracks,\n            handles = _get$call.handles;\n\n        var sliderClassName = (0, _classnames.default)(prefixCls, (_classNames = {}, (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-with-marks\"), Object.keys(marks).length), (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-vertical\"), vertical), (0, _defineProperty2.default)(_classNames, className, className), _classNames));\n        return _react.default.createElement(\"div\", {\n          ref: this.saveSlider,\n          className: sliderClassName,\n          onTouchStart: disabled ? noop : this.onTouchStart,\n          onMouseDown: disabled ? noop : this.onMouseDown,\n          onMouseUp: disabled ? noop : this.onMouseUp,\n          onKeyDown: disabled ? noop : this.onKeyDown,\n          onFocus: disabled ? noop : this.onFocus,\n          onBlur: disabled ? noop : this.onBlur,\n          style: style\n        }, _react.default.createElement(\"div\", {\n          className: \"\".concat(prefixCls, \"-rail\"),\n          style: (0, _objectSpread2.default)((0, _objectSpread2.default)({}, maximumTrackStyle), railStyle)\n        }), tracks, _react.default.createElement(_Steps.default, {\n          prefixCls: prefixCls,\n          vertical: vertical,\n          reverse: reverse,\n          marks: marks,\n          dots: dots,\n          step: step,\n          included: included,\n          lowerBound: this.getLowerBound(),\n          upperBound: this.getUpperBound(),\n          max: max,\n          min: min,\n          dotStyle: dotStyle,\n          activeDotStyle: activeDotStyle\n        }), handles, _react.default.createElement(_Marks.default, {\n          className: \"\".concat(prefixCls, \"-mark\"),\n          onClickLabel: disabled ? noop : this.onClickMarkLabel,\n          vertical: vertical,\n          marks: marks,\n          included: included,\n          lowerBound: this.getLowerBound(),\n          upperBound: this.getUpperBound(),\n          max: max,\n          min: min,\n          reverse: reverse\n        }), children);\n      }\n    }]);\n    return ComponentEnhancer;\n  }(Component), _a.displayName = \"ComponentEnhancer(\".concat(Component.displayName, \")\"), _a.defaultProps = (0, _objectSpread2.default)((0, _objectSpread2.default)({}, Component.defaultProps), {}, {\n    prefixCls: 'rc-slider',\n    className: '',\n    min: 0,\n    max: 100,\n    step: 1,\n    marks: {},\n    handle: function handle(props) {\n      var index = props.index,\n          restProps = (0, _objectWithoutProperties2.default)(props, [\"index\"]);\n      delete restProps.dragging;\n\n      if (restProps.value === null) {\n        return null;\n      }\n\n      return _react.default.createElement(_Handle.default, Object.assign({}, restProps, {\n        key: index\n      }));\n    },\n    onBeforeChange: noop,\n    onChange: noop,\n    onAfterChange: noop,\n    included: true,\n    disabled: false,\n    dots: false,\n    vertical: false,\n    reverse: false,\n    trackStyle: [{}],\n    handleStyle: [{}],\n    railStyle: {},\n    dotStyle: {},\n    activeDotStyle: {}\n  }), _a;\n}"]},"metadata":{},"sourceType":"script"}