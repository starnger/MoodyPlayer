{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/**\n * @name react-jinke-music-player\n * @description Maybe the best beautiful HTML5 responsive player component for react :)\n * @author Jinke.Li <1359518268@qq.com>\n * @license MIT\n */\n\n\nimport cls from 'classnames';\nimport download from 'downloadjs';\nimport getIsMobile from 'is-mobile';\nimport Slider from 'rc-slider/lib/Slider';\nimport Switch from 'rc-switch';\nimport React, { cloneElement, createRef, PureComponent } from 'react';\nimport { createPortal } from 'react-dom';\nimport Draggable from 'react-draggable';\nimport AudioListsPanel from './components/AudioListsPanel';\nimport CircleProcessBar from './components/CircleProcessBar';\nimport { AnimatePauseIcon, AnimatePlayIcon, ArrowDownIcon, CloseIcon, DeleteIcon, DownloadIcon, EmptyIcon, FaMinusSquareOIcon, LoadIcon, LoopIcon, LyricIcon, NextAudioIcon, OrderPlayIcon, PlayListsIcon, PrevAudioIcon, ReloadIcon, RepeatIcon, ShufflePlayIcon, VolumeMuteIcon, VolumeUnmuteIcon } from './components/Icon';\nimport AudioPlayerMobile from './components/PlayerMobile';\nimport PlayModel from './components/PlayModel';\nimport { AUDIO_LIST_REMOVE_ANIMATE_TIME } from './config/animate';\nimport { SPACE_BAR_KEYCODE } from './config/keycode';\nimport LOCALE from './config/locale';\nimport { MEDIA_QUERY } from './config/mediaQuery';\nimport { MODE } from './config/mode';\nimport NETWORK_STATE from './config/networkState';\nimport PLAY_MODE from './config/playMode';\nimport PROP_TYPES from './config/propTypes';\nimport { sliderBaseOptions } from './config/slider';\nimport { THEME } from './config/theme';\nimport LOCALE_CONFIG from './locale';\nimport Lyric from './lyric';\nimport { arrayEqual, createRandomNum, formatTime, isSafari, uuId } from './utils';\nvar IS_MOBILE = getIsMobile();\nvar DEFAULT_ICON = {\n  pause: /*#__PURE__*/React.createElement(AnimatePauseIcon, null),\n  play: /*#__PURE__*/React.createElement(AnimatePlayIcon, null),\n  destroy: /*#__PURE__*/React.createElement(CloseIcon, null),\n  close: /*#__PURE__*/React.createElement(CloseIcon, null),\n  \"delete\": /*#__PURE__*/React.createElement(DeleteIcon, {\n    size: 24\n  }),\n  download: /*#__PURE__*/React.createElement(DownloadIcon, {\n    size: 26\n  }),\n  toggle: /*#__PURE__*/React.createElement(FaMinusSquareOIcon, null),\n  lyric: /*#__PURE__*/React.createElement(LyricIcon, null),\n  volume: /*#__PURE__*/React.createElement(VolumeUnmuteIcon, {\n    size: 26\n  }),\n  mute: /*#__PURE__*/React.createElement(VolumeMuteIcon, {\n    size: 26\n  }),\n  next: /*#__PURE__*/React.createElement(NextAudioIcon, null),\n  prev: /*#__PURE__*/React.createElement(PrevAudioIcon, null),\n  playLists: /*#__PURE__*/React.createElement(PlayListsIcon, null),\n  reload: /*#__PURE__*/React.createElement(ReloadIcon, {\n    size: 22\n  }),\n  loop: /*#__PURE__*/React.createElement(LoopIcon, {\n    size: 26\n  }),\n  order: /*#__PURE__*/React.createElement(OrderPlayIcon, {\n    size: 26\n  }),\n  orderLoop: /*#__PURE__*/React.createElement(RepeatIcon, {\n    size: 26\n  }),\n  shuffle: /*#__PURE__*/React.createElement(ShufflePlayIcon, {\n    size: 26\n  }),\n  loading: /*#__PURE__*/React.createElement(LoadIcon, null),\n  packUpPanelMobile: /*#__PURE__*/React.createElement(ArrowDownIcon, {\n    size: 26\n  }),\n  empty: /*#__PURE__*/React.createElement(EmptyIcon, null)\n};\n\nvar ReactJkMusicPlayer = /*#__PURE__*/function (_PureComponent) {\n  _inherits(ReactJkMusicPlayer, _PureComponent);\n\n  var _super = _createSuper(ReactJkMusicPlayer);\n\n  _createClass(ReactJkMusicPlayer, [{\n    key: \"locale\",\n    // 初始播放id\n    get: function get() {\n      var locale = this.props.locale;\n\n      if (typeof locale === 'string') {\n        return LOCALE_CONFIG[this.props.locale];\n      }\n\n      return locale ? _objectSpread(_objectSpread({}, LOCALE_CONFIG[LOCALE.en_US]), locale) : {};\n    }\n  }, {\n    key: \"audioDuration\",\n    get: function get() {\n      var _this$state = this.state,\n          audioLists = _this$state.audioLists,\n          playId = _this$state.playId;\n\n      if (!audioLists.length || !this.audio) {\n        return 0;\n      }\n\n      var _ref = audioLists.find(function (audio) {\n        return audio.id === playId;\n      }) || {},\n          duration = _ref.duration;\n\n      return Math.max(Number(duration) || this.audio.duration || 0, 0);\n    }\n  }, {\n    key: \"isAudioCanPlay\",\n    get: function get() {\n      var autoPlay = this.props.autoPlay;\n      var _this$state2 = this.state,\n          isInitAutoPlay = _this$state2.isInitAutoPlay,\n          isAutoPlayWhenUserClicked = _this$state2.isAutoPlayWhenUserClicked;\n      return isInitAutoPlay || autoPlay || isAutoPlayWhenUserClicked;\n    }\n  }, {\n    key: \"iconMap\",\n    get: function get() {\n      var _this2 = this;\n\n      var Spin = function Spin() {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"loading group\"\n        }, _this2.props.icon.loading);\n      };\n\n      return _objectSpread(_objectSpread(_objectSpread({}, DEFAULT_ICON), this.props.icon), {}, {\n        loading: /*#__PURE__*/React.createElement(Spin, null)\n      });\n    }\n  }]);\n\n  function ReactJkMusicPlayer(props) {\n    var _this;\n\n    _classCallCheck(this, ReactJkMusicPlayer);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"isDrag\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"initPlayId\", '');\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      audioLists: [],\n      playId: _this.initPlayId,\n      // 播放id\n      name: '',\n      // 当前歌曲名\n      cover: '',\n      // 当前歌曲封面\n      singer: '',\n      // 当前歌手\n      musicSrc: '',\n      // 当前歌曲链\n      lyric: '',\n      // 当前歌词\n      currentLyric: '',\n      isMobile: IS_MOBILE,\n      toggle: _this.props.mode === MODE.FULL,\n      pause: true,\n      playing: false,\n      currentTime: 0,\n      soundValue: 100,\n      moveX: 0,\n      moveY: 0,\n      loading: false,\n      audioListsPanelVisible: false,\n      playModelNameVisible: false,\n      theme: _this.props.theme || _this.darkThemeName,\n      playMode: _this.props.playMode || _this.props.defaultPlayMode || '',\n      // 当前播放模式\n      currentAudioVolume: 0,\n      // 当前音量  静音后恢复到之前记录的音量\n      initAnimate: false,\n      isInitAutoPlay: _this.props.autoPlay,\n      isInitRemember: false,\n      loadedProgress: 0,\n      removeId: -1,\n      isNeedMobileHack: IS_MOBILE,\n      audioLyricVisible: false,\n      isAutoPlayWhenUserClicked: false,\n      playIndex: _this.props.playIndex || _this.props.defaultPlayIndex || 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayIndex\", function () {\n      var playIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.playIndex;\n      var audioLists = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.state.audioLists;\n      return Math.max(0, Math.min(audioLists.length - 1, playIndex));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCoverClick\", function () {\n      var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : MODE.FULL;\n\n      if (_this.props.onCoverClick) {\n        _this.props.onCoverClick(mode, _this.state.audioLists, _this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getAudioTitle\", function () {\n      // 暂时兼容\n      var _ref2 = _this.locale || {},\n          audioTitle = _ref2.audioTitle;\n\n      var _this$state3 = _this.state,\n          name = _this$state3.name,\n          singer = _this$state3.singer;\n\n      if (typeof audioTitle === 'function' && _this.audio) {\n        return audioTitle(_this.getBaseAudioInfo());\n      }\n\n      return audioTitle || \"\".concat(name, \" \").concat(singer ? \"- \".concat(singer) : '');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleAudioLyric\", function () {\n      _this.setState({\n        audioLyricVisible: !_this.state.audioLyricVisible\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"togglePlayMode\", function () {\n      var index = _this._PLAY_MODE_.findIndex(function (mode) {\n        return mode === _this.state.playMode;\n      });\n\n      var playMode = index === _this._PLAY_MODE_LENGTH_ - 1 ? _this._PLAY_MODE_[0] : _this._PLAY_MODE_[++index];\n\n      _this.setState({\n        playMode: playMode,\n        playModelNameVisible: true,\n        playModeTipVisible: true\n      });\n\n      _this.props.onPlayModeChange && _this.props.onPlayModeChange(playMode);\n      clearTimeout(_this.playModelTimer);\n      _this.playModelTimer = setTimeout(function () {\n        _this.setState({\n          playModelNameVisible: false,\n          playModeTipVisible: false\n        });\n      }, _this.props.playModeShowTime);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderPlayModeIcon\", function (playMode) {\n      var animateProps = {\n        className: 'react-jinke-music-player-mode-icon'\n      };\n      var IconNode = null;\n\n      switch (playMode) {\n        case PLAY_MODE.order:\n          IconNode = /*#__PURE__*/cloneElement(_this.iconMap.order, animateProps);\n          break;\n\n        case PLAY_MODE.orderLoop:\n          IconNode = /*#__PURE__*/cloneElement(_this.iconMap.orderLoop, animateProps);\n          break;\n\n        case PLAY_MODE.singleLoop:\n          IconNode = /*#__PURE__*/cloneElement(_this.iconMap.loop, animateProps);\n          break;\n\n        case PLAY_MODE.shufflePlay:\n          IconNode = /*#__PURE__*/cloneElement(_this.iconMap.shuffle, animateProps);\n          break;\n\n        default:\n          IconNode = /*#__PURE__*/cloneElement(_this.iconMap.order, animateProps);\n      }\n\n      return IconNode;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioListsPlay\", function (playId) {\n      var ignore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var state = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this.state;\n      var currentPlayId = state.playId,\n          pause = state.pause,\n          playing = state.playing,\n          audioLists = state.audioLists;\n\n      if (Array.isArray(audioLists) && audioLists.length === 0) {\n        // eslint-disable-next-line no-console\n        return console.warn('Warning: Your playlist has no songs. and cannot play !');\n      } // 如果点击当前项 就暂停 或者播放\n\n\n      if (playId === currentPlayId && !ignore) {\n        _this.setState({\n          pause: !pause,\n          playing: !playing\n        });\n\n        return pause ? _this.audio.play() : _this.audio.pause();\n      }\n\n      var playIndex = audioLists.findIndex(function (audio) {\n        return audio.id === playId;\n      });\n\n      var _ref3 = audioLists[playIndex] || {},\n          name = _ref3.name,\n          cover = _ref3.cover,\n          musicSrc = _ref3.musicSrc,\n          singer = _ref3.singer,\n          _ref3$lyric = _ref3.lyric,\n          lyric = _ref3$lyric === void 0 ? '' : _ref3$lyric;\n\n      var loadAudio = function loadAudio(originMusicSrc) {\n        _this.setState({\n          name: name,\n          cover: cover,\n          musicSrc: originMusicSrc,\n          singer: singer,\n          playId: playId,\n          lyric: lyric,\n          currentTime: 0,\n          playing: false,\n          loading: true,\n          loadedProgress: 0,\n          playIndex: playIndex,\n          isAutoPlayWhenUserClicked: true\n        }, function () {\n          _this.lyric && _this.lyric.stop();\n\n          _this.audio.load();\n\n          _this.updateMediaSessionMetadata();\n\n          setTimeout(function () {\n            _this.initLyricParser();\n          }, 0);\n        });\n\n        _this.props.onAudioPlay && _this.props.onAudioPlay(_this.getBaseAudioInfo());\n        _this.props.onAudioPlayTrackChange && _this.props.onAudioPlayTrackChange(playId, audioLists, _this.getBaseAudioInfo());\n        _this.props.onPlayIndexChange && _this.props.onPlayIndexChange(playIndex);\n      };\n\n      if (!_this.checkCurrentPlayingAudioIsInUpdatedAudioLists()) {\n        switch (_typeof(musicSrc)) {\n          case 'function':\n            musicSrc().then(loadAudio, _this.onAudioError);\n            break;\n\n          default:\n            loadAudio(musicSrc);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetAudioStatus\", function () {\n      _this.audio.pause();\n\n      _this.lyric && _this.lyric.stop();\n\n      _this.initPlayInfo([]);\n\n      _this.setState({\n        currentTime: 0,\n        loading: false,\n        playing: false,\n        pause: true,\n        lyric: '',\n        currentLyric: '',\n        playId: _this.initPlayId,\n        loadedProgress: 0\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearAudioLists\", function () {\n      _this.props.onAudioListsChange && _this.props.onAudioListsChange('', [], {});\n\n      _this.resetAudioStatus();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDeleteAudioLists\", function (audioId) {\n      return function (e) {\n        e.stopPropagation(); // 如果不 传 id  删除全部\n\n        var _this$state4 = _this.state,\n            audioLists = _this$state4.audioLists,\n            playId = _this$state4.playId;\n\n        if (audioLists.length < 1) {\n          return;\n        }\n\n        _this.lyric && _this.lyric.stop();\n\n        if (!audioId) {\n          _this.clearAudioLists();\n\n          return;\n        }\n\n        var newAudioLists = _toConsumableArray(audioLists).filter(function (audio) {\n          return audio.id !== audioId;\n        }); // 触发删除动画,等动画结束 删除列表\n\n\n        _this.setState({\n          removeId: audioId\n        });\n\n        setTimeout(function () {\n          _this.setState({\n            audioLists: newAudioLists,\n            removeId: -1\n          }, function () {\n            if (!newAudioLists.length) {\n              return _this.resetAudioStatus();\n            } // 如果删除的是当前正在播放的 顺延下一首播放\n\n\n            if (audioId === playId) {\n              _this.handlePlay(PLAY_MODE.orderLoop);\n            }\n          });\n        }, AUDIO_LIST_REMOVE_ANIMATE_TIME);\n        _this.props.onAudioListsChange && _this.props.onAudioListsChange(playId, newAudioLists, _this.getBaseAudioInfo());\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"openAudioListsPanel\", function () {\n      _this.setState(function (_ref4) {\n        var audioListsPanelVisible = _ref4.audioListsPanelVisible;\n        return {\n          initAnimate: true,\n          audioListsPanelVisible: !audioListsPanelVisible\n        };\n      });\n\n      _this.props.onAudioListsPanelChange && _this.props.onAudioListsPanelChange(!_this.state.audioListsPanelVisible);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closeAudioListsPanel\", function (e) {\n      e.stopPropagation();\n\n      _this._closeAudioListsPanel();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_closeAudioListsPanel\", function () {\n      _this.setState({\n        audioListsPanelVisible: false\n      });\n\n      _this.props.onAudioListsPanelChange && _this.props.onAudioListsPanelChange(false);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"themeChange\", function (isLight) {\n      var theme = isLight ? THEME.LIGHT : THEME.DARK;\n\n      _this.setState({\n        theme: theme\n      });\n\n      _this.props.onThemeChange && _this.props.onThemeChange(theme);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioDownload\", function () {\n      var musicSrc = _this.state.musicSrc;\n\n      if (_this.state.musicSrc) {\n        var customDownloader = _this.props.customDownloader;\n\n        var baseAudioInfo = _this.getBaseAudioInfo();\n\n        var onBeforeAudioDownload = _this.props.onBeforeAudioDownload(baseAudioInfo);\n\n        var transformedDownloadAudioInfo = {};\n\n        if (onBeforeAudioDownload && onBeforeAudioDownload.then) {\n          onBeforeAudioDownload.then(function (info) {\n            var src = info.src,\n                filename = info.filename,\n                mimeType = info.mimeType;\n            transformedDownloadAudioInfo = info;\n\n            if (customDownloader) {\n              customDownloader(info);\n            } else {\n              download(src, filename, mimeType);\n            }\n          });\n        } else {\n          customDownloader ? customDownloader({\n            src: musicSrc\n          }) : download(musicSrc);\n        }\n\n        _this.props.onAudioDownload && _this.props.onAudioDownload(baseAudioInfo, transformedDownloadAudioInfo);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onControllerDrag\", function () {\n      _this.isDrag = true;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onControllerDragStart\", function () {\n      _this.isDrag = false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onControllerDragStop\", function (e, _ref5) {\n      var x = _ref5.x,\n          y = _ref5.y;\n\n      if (_this.props.showDestroy && _this.destroyBtn && _this.destroyBtn.current && _this.destroyBtn.current.contains(e.target)) {\n        _this.onDestroyPlayer();\n\n        return;\n      }\n\n      if (!_this.isDrag) {\n        if (_this.state.isNeedMobileHack) {\n          _this.loadAndPlayAudio();\n\n          _this.setState({\n            isNeedMobileHack: false\n          });\n        }\n\n        _this.onOpenPanel();\n      }\n\n      _this.setState({\n        moveX: x,\n        moveY: y\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResetVolume\", function () {\n      var currentAudioVolume = _this.state.currentAudioVolume;\n\n      _this.setAudioVolume(currentAudioVolume || 0.1);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setAudioVolume\", function (value) {\n      _this.audio.volume = value;\n\n      _this.setState({\n        currentAudioVolume: value,\n        soundValue: value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"stopAll\", function (target) {\n      target.stopPropagation();\n      target.preventDefault();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getBoundingClientRect\", function (ele) {\n      var _ele$getBoundingClien = ele.getBoundingClientRect(),\n          left = _ele$getBoundingClien.left,\n          top = _ele$getBoundingClien.top;\n\n      return {\n        left: left,\n        top: top\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioReload\", function () {\n      if (_this.props.audioLists.length) {\n        _this.handlePlay(PLAY_MODE.singleLoop);\n\n        _this.props.onAudioReload && _this.props.onAudioReload(_this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onOpenPanel\", function () {\n      var _this$props = _this.props,\n          toggleMode = _this$props.toggleMode,\n          spaceBar = _this$props.spaceBar;\n\n      if (toggleMode) {\n        _this.setState({\n          toggle: true\n        });\n\n        _this.props.onModeChange && _this.props.onModeChange(MODE.FULL);\n\n        if (spaceBar && _this.player.current) {\n          _this.player.current.focus({\n            preventScroll: true\n          });\n        }\n      }\n\n      _this.onCoverClick(MODE.MINI);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onHidePanel\", function () {\n      _this.setState({\n        toggle: false,\n        audioListsPanelVisible: false\n      });\n\n      _this.props.onModeChange && _this.props.onModeChange(MODE.MINI);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDestroyPlayer\", function () {\n      if (_this.props.onBeforeDestroy) {\n        var onBeforeDestroy = Promise.resolve(_this.props.onBeforeDestroy(_this.state.playId, _this.state.audioLists, _this.getBaseAudioInfo()));\n\n        if (onBeforeDestroy && onBeforeDestroy.then) {\n          onBeforeDestroy.then(function () {\n            _this._onDestroyPlayer();\n          }) // ignore unhandledrejection handler\n          [\"catch\"](function () {});\n        }\n\n        return;\n      }\n\n      _this._onDestroyPlayer();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDestroyPlayer\", function () {\n      _this.unInstallPlayer();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDestroyed\", function () {\n      _this.setState({\n        isPlayDestroyed: true\n      });\n\n      if (_this.props.onDestroyed) {\n        _this.props.onDestroyed(_this.state.playId, _this.state.audioLists, _this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getCurrentPlayIndex\", function () {\n      return _this.state.audioLists.findIndex(function (audio) {\n        return audio.id === _this.state.playId;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTogglePlay\", function () {\n      if (_this.state.audioLists.length >= 1) {\n        if (_this.state.playing) {\n          return _this.audio.pause();\n        }\n\n        _this.setState( // lgtm [js/react/inconsistent-state-update]\n        {\n          isAutoPlayWhenUserClicked: true\n        }, _this.loadAndPlayAudio);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioCanPlay\", function () {\n      _this.setState({\n        loading: false,\n        playing: false\n      });\n\n      if (_this.isAudioCanPlay) {\n        _this.loadAndPlayAudio();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioPause\", function () {\n      _this.setState({\n        playing: false,\n        pause: true\n      });\n\n      _this.props.onAudioPause && _this.props.onAudioPause(_this.getBaseAudioInfo());\n\n      if (_this.state.lyric && _this.lyric) {\n        _this.lyric.togglePlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioPlay\", function () {\n      _this.setState({\n        playing: true,\n        loading: false\n      });\n\n      _this.props.onAudioPlay && _this.props.onAudioPlay(_this.getBaseAudioInfo());\n\n      if (_this.state.lyric && _this.lyric) {\n        _this.lyric.togglePlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSetAudioLoadedProgress\", function () {\n      var _this$audio = _this.audio,\n          timeRanges = _this$audio.buffered,\n          duration = _this$audio.duration;\n\n      if (timeRanges.length && timeRanges.end) {\n        var loadedProgress = timeRanges.end(timeRanges.length - 1) / duration * 100;\n\n        _this.setState({\n          loadedProgress: loadedProgress\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadAndPlayAudio\", function () {\n      var remember = _this.props.remember;\n      var isInitRemember = _this.state.isInitRemember;\n      var networkState = _this.audio.networkState;\n\n      _this.setState({\n        loading: true\n      });\n\n      if (networkState !== NETWORK_STATE.NETWORK_NO_SOURCE) {\n        var _this$getLastPlayStat = _this.getLastPlayStatus(),\n            pause = _this$getLastPlayStat.pause;\n\n        var isLastPause = remember && !isInitRemember && pause;\n\n        _this.setState({\n          playing: remember ? !isLastPause : _this.isAudioCanPlay,\n          loading: false,\n          pause: remember ? isLastPause : !_this.isAudioCanPlay\n        }, function () {\n          if (remember ? !isLastPause : _this.isAudioCanPlay) {\n            // fuck Safari is need muted :(\n            // this.audio.muted = true\n            _this.audio.play();\n          }\n\n          _this.setState({\n            isInitAutoPlay: true,\n            isInitRemember: true,\n            isAutoPlayWhenUserClicked: false\n          });\n        });\n      } else {\n        _this.onAudioError({\n          reason: '[loadAndPlayAudio]: Failed to load because no supported source was found.'\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioError\", function (error) {\n      var _this$state5 = _this.state,\n          playMode = _this$state5.playMode,\n          audioLists = _this$state5.audioLists,\n          playId = _this$state5.playId,\n          musicSrc = _this$state5.musicSrc;\n      var loadAudioErrorPlayNext = _this.props.loadAudioErrorPlayNext;\n      var isSingleLoop = playMode === PLAY_MODE.singleLoop;\n      var currentPlayMode = isSingleLoop ? PLAY_MODE.order : playMode;\n      _this.lyric && _this.lyric.stop(); // 如果当前音乐加载出错 尝试播放下一首\n\n      if (loadAudioErrorPlayNext && audioLists.length) {\n        var isLastAudio = (playMode === PLAY_MODE.order || playMode === PLAY_MODE.orderLoop) && playId === audioLists[audioLists.length - 1].id;\n\n        if (!isLastAudio) {\n          _this.handlePlay(currentPlayMode, true);\n        }\n      } // 如果删除歌曲或其他原因导致列表为空时\n      // 这时候会触发 https://developer.mozilla.org/en-US/docs/Web/API/MediaError\n\n\n      if (musicSrc) {\n        _this.props.onAudioError && _this.props.onAudioError(_this.audio.error || error && error.reason || null, playId, audioLists, _this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePlay\", function (playMode) {\n      var isNext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var _this$state6 = _this.state,\n          playId = _this$state6.playId,\n          audioLists = _this$state6.audioLists;\n      var audioListsLen = audioLists.length;\n\n      if (!audioListsLen) {\n        return;\n      }\n\n      var currentPlayIndex = _this.getCurrentPlayIndex();\n\n      switch (playMode) {\n        // 顺序播放\n        case PLAY_MODE.order:\n          // 拖拽排序后 或者 正常播放 到最后一首歌 就暂停\n          if (currentPlayIndex === audioListsLen - 1) {\n            _this.audio.pause();\n\n            return;\n          }\n\n          _this.audioListsPlay(isNext ? audioLists[currentPlayIndex + 1].id : audioLists[currentPlayIndex - 1].id);\n\n          break;\n        // 列表循环\n\n        case PLAY_MODE.orderLoop:\n          if (isNext) {\n            if (currentPlayIndex === audioListsLen - 1) {\n              return _this.audioListsPlay(audioLists[0].id);\n            }\n\n            _this.audioListsPlay(audioLists[currentPlayIndex + 1].id);\n          } else {\n            if (currentPlayIndex === 0) {\n              return _this.audioListsPlay(audioLists[audioListsLen - 1].id);\n            }\n\n            _this.audioListsPlay(audioLists[currentPlayIndex - 1].id);\n          }\n\n          break;\n        // 单曲循环\n\n        case PLAY_MODE.singleLoop:\n          _this.audio.currentTime = 0;\n\n          _this.audioListsPlay(playId, true);\n\n          break;\n        // 随机播放\n\n        case PLAY_MODE.shufflePlay:\n          {\n            var randomIndex = createRandomNum(0, audioListsLen - 1);\n\n            if (randomIndex === _this.getCurrentPlayIndex()) {\n              randomIndex = _this.getPlayIndex(randomIndex + 1);\n            }\n\n            var randomPlayId = (audioLists[randomIndex] || {}).id;\n\n            _this.audioListsPlay(randomPlayId, true);\n          }\n          break;\n\n        default:\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioEnd\", function () {\n      _this.props.onAudioEnded && _this.props.onAudioEnded(_this.state.playId, _this.state.audioLists, _this.getBaseAudioInfo());\n\n      _this.handlePlay(_this.state.playMode);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioPrevAndNextBasePlayHandle\", function () {\n      var isNext = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var playMode = _this.state.playMode;\n      var _playMode = '';\n\n      switch (playMode) {\n        case PLAY_MODE.shufflePlay:\n          _playMode = playMode;\n          break;\n\n        default:\n          _playMode = PLAY_MODE.orderLoop;\n          break;\n      }\n\n      _this.handlePlay(_playMode, isNext);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioPrevPlay\", function () {\n      _this.audioPrevAndNextBasePlayHandle(false);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioNextPlay\", function () {\n      _this.audioPrevAndNextBasePlayHandle(true);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioTimeUpdate\", function () {\n      var currentTime = _this.audio.currentTime;\n\n      _this.setState({\n        currentTime: currentTime\n      });\n\n      if (_this.props.remember) {\n        _this.saveLastPlayStatus();\n      }\n\n      _this.props.onAudioProgress && _this.props.onAudioProgress(_this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioSoundChange\", function (value) {\n      _this.setAudioVolume(value);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioVolumeChange\", function () {\n      var volume = _this.audio.volume;\n\n      _this.setState({\n        soundValue: volume\n      });\n\n      _this.props.onAudioVolumeChange && _this.props.onAudioVolumeChange(volume);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onProgressChange\", function (value) {\n      if (_this.audio) {\n        _this.audio.currentTime = value;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioSeeked\", function () {\n      if (_this.state.audioLists.length >= 1) {\n        _this.lyric && _this.lyric.seek(_this.audio.currentTime * 1000);\n\n        if (_this.state.playing && !_this.state.pause) {\n          _this.setState({\n            playing: true\n          }, function () {\n            _this.loadAndPlayAudio();\n          });\n        } else {\n          _this.lyric && _this.lyric.stop();\n        }\n\n        _this.props.onAudioSeeked && _this.props.onAudioSeeked(_this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMute\", function () {\n      _this.setState({\n        soundValue: 0,\n        currentAudioVolume: _this.audio.volume\n      }, function () {\n        _this.audio.volume = 0;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioAbort\", function (e) {\n      var _this$state7 = _this.state,\n          audioLists = _this$state7.audioLists,\n          playId = _this$state7.playId;\n\n      var audioInfo = _this.getBaseAudioInfo();\n\n      var mergedAudioInfo = _objectSpread(_objectSpread({}, e), audioInfo);\n\n      _this.props.onAudioAbort && _this.props.onAudioAbort(playId, audioLists, mergedAudioInfo);\n\n      if (audioLists.length) {\n        _this.audio.pause();\n\n        _this.state.isInitAutoPlay && _this.audio.play();\n        _this.lyric && _this.lyric.stop();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleMode\", function (mode) {\n      if (mode === MODE.FULL) {\n        _this.setState({\n          toggle: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleTheme\", function (theme) {\n      _this.setState({\n        theme: theme\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioListsDragEnd\", function (fromIndex, toIndex) {\n      var _this$state8 = _this.state,\n          playId = _this$state8.playId,\n          audioLists = _this$state8.audioLists;\n\n      var _audioLists = _toConsumableArray(audioLists);\n\n      var item = _audioLists.splice(fromIndex, 1)[0];\n\n      _audioLists.splice(toIndex, 0, item); // 如果拖动正在播放的歌曲 播放Id 等于 拖动后的index\n\n\n      var _playId = fromIndex === playId ? toIndex : playId;\n\n      _this.setState({\n        audioLists: _audioLists,\n        playId: _playId\n      });\n\n      _this.props.onAudioListsDragEnd && _this.props.onAudioListsDragEnd(fromIndex, toIndex);\n      _this.props.onAudioListsChange && _this.props.onAudioListsChange(_playId, _audioLists, _this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"saveLastPlayStatus\", function () {\n      var _this$state9 = _this.state,\n          currentTime = _this$state9.currentTime,\n          playId = _this$state9.playId,\n          theme = _this$state9.theme,\n          soundValue = _this$state9.soundValue,\n          playMode = _this$state9.playMode,\n          name = _this$state9.name,\n          cover = _this$state9.cover,\n          singer = _this$state9.singer,\n          musicSrc = _this$state9.musicSrc,\n          pause = _this$state9.pause;\n      var lastPlayStatus = JSON.stringify({\n        currentTime: currentTime,\n        playId: playId,\n        theme: theme,\n        playMode: playMode,\n        soundValue: soundValue,\n        name: name,\n        cover: cover,\n        singer: singer,\n        musicSrc: musicSrc,\n        pause: pause\n      });\n      localStorage.setItem('lastPlayStatus', lastPlayStatus);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getLastPlayStatus\", function () {\n      var _this$props2 = _this.props,\n          theme = _this$props2.theme,\n          defaultPlayMode = _this$props2.defaultPlayMode,\n          playMode = _this$props2.playMode,\n          defaultPlayIndex = _this$props2.defaultPlayIndex,\n          playIndex = _this$props2.playIndex;\n      var status = {\n        currentTime: 0,\n        playMode: playMode || defaultPlayMode || PLAY_MODE.order,\n        name: '',\n        cover: '',\n        singer: '',\n        musicSrc: '',\n        lyric: '',\n        playId: _this.getDefaultPlayId(),\n        theme: theme,\n        pause: false,\n        playIndex: playIndex || defaultPlayIndex || 0\n      };\n\n      try {\n        return JSON.parse(localStorage.getItem('lastPlayStatus')) || status;\n      } catch (error) {\n        return status;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"checkCurrentPlayingAudioIsInUpdatedAudioLists\", function () {\n      var nextProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n      var _this$state10 = _this.state,\n          playId = _this$state10.playId,\n          musicSrc = _this$state10.musicSrc;\n\n      if (!nextProps.quietUpdate || !Array.isArray(nextProps.audioLists)) {\n        return false;\n      }\n\n      return playId && nextProps.audioLists.some(function (newAudioInfo) {\n        return newAudioInfo.id === playId || newAudioInfo.musicSrc === musicSrc;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mockAutoPlayForMobile\", function () {\n      if (_this.props.autoPlay && !_this.state.playing && _this.state.pause) {\n        _this.audio.load();\n\n        _this.audio.pause();\n\n        _this.audio.play();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindMobileAutoPlayEvents\", function () {\n      document.addEventListener('touchstart', function () {\n        _this.mockAutoPlayForMobile();\n      }, {\n        once: true\n      }); // 监听微信准备就绪事件\n\n      document.addEventListener('WeixinJSBridgeReady', function () {\n        _this.mockAutoPlayForMobile();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindSafariAutoPlayEvents\", function () {\n      document.addEventListener('click', function () {\n        _this.mockAutoPlayForMobile();\n      }, {\n        once: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unBindEvents\", function () {\n      var _this3;\n\n      (_this3 = _this).bindEvents.apply(_this3, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindEvents\", function () {\n      var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.audio;\n      var eventsNames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        waiting: _this.loadAndPlayAudio,\n        canplay: _this.onAudioCanPlay,\n        error: _this.onAudioError,\n        ended: _this.onAudioEnd,\n        pause: _this.onAudioPause,\n        play: _this.onAudioPlay,\n        timeupdate: _this.audioTimeUpdate,\n        volumechange: _this.onAudioVolumeChange,\n        stalled: _this.onAudioError,\n        // 当浏览器尝试获取媒体数据，但数据不可用时\n        abort: _this.onAudioAbort,\n        progress: _this.onSetAudioLoadedProgress\n      };\n      var bind = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var once = _this.props.once;\n\n      for (var name in eventsNames) {\n        var _events = eventsNames[name];\n\n        if (target) {\n          bind ? target.addEventListener(name, _events, {\n            once: !!(once && name === 'play')\n          }) : target.removeEventListener(name, _events);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayId\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.audioLists;\n\n      var playIndex = _this.getPlayIndex(undefined, audioLists);\n\n      var playId = _this.state.playId || audioLists[playIndex] && audioLists[playIndex].id;\n      return playId;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_getPlayInfo\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var playId = _this.getPlayId(audioLists);\n\n      var _ref6 = audioLists.find(function (_ref7) {\n        var id = _ref7.id;\n        return id === playId;\n      }) || {},\n          _ref6$name = _ref6.name,\n          name = _ref6$name === void 0 ? '' : _ref6$name,\n          _ref6$cover = _ref6.cover,\n          cover = _ref6$cover === void 0 ? '' : _ref6$cover,\n          _ref6$singer = _ref6.singer,\n          singer = _ref6$singer === void 0 ? '' : _ref6$singer,\n          _ref6$musicSrc = _ref6.musicSrc,\n          musicSrc = _ref6$musicSrc === void 0 ? '' : _ref6$musicSrc,\n          _ref6$lyric = _ref6.lyric,\n          lyric = _ref6$lyric === void 0 ? '' : _ref6$lyric;\n\n      return {\n        name: name,\n        cover: cover,\n        singer: singer,\n        musicSrc: musicSrc,\n        lyric: lyric,\n        audioLists: audioLists,\n        playId: playId\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayInfo\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var newAudioLists = audioLists.filter(function (audio) {\n        return !audio.id;\n      });\n      var lastAudioLists = audioLists.filter(function (audio) {\n        return audio.id;\n      });\n      var mergedAudioLists = [].concat(_toConsumableArray(lastAudioLists), _toConsumableArray(newAudioLists.map(function (info) {\n        return _objectSpread(_objectSpread({}, info), {}, {\n          id: uuId()\n        });\n      })));\n      return _this._getPlayInfo(mergedAudioLists);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayInfoOfNewList\", function (nextProps) {\n      var _nextProps$audioLists = nextProps.audioLists,\n          audioLists = _nextProps$audioLists === void 0 ? [] : _nextProps$audioLists;\n\n      var _audioLists = audioLists.map(function (info) {\n        var prevAudioBeforeUpdate = nextProps.quietUpdate && _this.state.audioLists.find(function (_ref8) {\n          var musicSrc = _ref8.musicSrc;\n          return musicSrc === info.musicSrc;\n        }) || {};\n        return _objectSpread(_objectSpread({}, info), {}, {\n          id: prevAudioBeforeUpdate.id || uuId()\n        });\n      });\n\n      return _this._getPlayInfo(_audioLists);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initPlayInfo\", function (audioLists, cb) {\n      var info = _this.getPlayInfo(audioLists);\n\n      switch (_typeof(info.musicSrc)) {\n        case 'function':\n          info.musicSrc().then(function (originMusicSrc) {\n            _this.setState(_objectSpread(_objectSpread({}, info), {}, {\n              musicSrc: originMusicSrc\n            }), cb);\n          }, _this.onAudioError);\n          break;\n\n        default:\n          _this.setState(info, cb);\n\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addMatchMediaListener\", function (query, handler) {\n      var media = window.matchMedia(query);\n      handler(media);\n\n      if ('addEventListener' in media) {\n        media.addEventListener('change', handler);\n      } else {\n        media.addListener(handler);\n      }\n\n      return media;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeMatchMediaListener\", function (media, handler) {\n      if (media) {\n        if ('removeEventListener' in media) {\n          media.removeEventListener('change', handler);\n        } else {\n          media.removeListener && media.removeListener(handler);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addMobileListener\", function () {\n      _this.mobileMedia = _this.addMatchMediaListener(MEDIA_QUERY.MOBILE, _this.mobileMediaHandler);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeMobileListener\", function () {\n      _this.removeMatchMediaListener(_this.mobileMedia, _this.mobileMediaHandler);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addSystemThemeListener\", function () {\n      _this.systemThemeMedia = _this.addMatchMediaListener(MEDIA_QUERY.DARK_THEME, _this.systemThemeMediaHandler);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeSystemThemeListener\", function () {\n      _this.removeMatchMediaListener(_this.systemThemeMedia, _this.systemThemeMediaHandler);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mobileMediaHandler\", function (_ref9) {\n      var matches = _ref9.matches;\n\n      _this.setState({\n        isMobile: !!matches\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"systemThemeMediaHandler\", function (_ref10) {\n      var matches = _ref10.matches;\n\n      if (_this.props.theme === THEME.AUTO) {\n        var theme = matches ? THEME.DARK : THEME.LIGHT;\n\n        _this.updateTheme(theme);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setDefaultAudioVolume\", function () {\n      var _this$props3 = _this.props,\n          defaultVolume = _this$props3.defaultVolume,\n          remember = _this$props3.remember; // 音量 [0-1]\n\n      _this.defaultVolume = Math.max(0, Math.min(defaultVolume, 1));\n\n      var _this$getLastPlayStat2 = _this.getLastPlayStatus(),\n          _this$getLastPlayStat3 = _this$getLastPlayStat2.soundValue,\n          soundValue = _this$getLastPlayStat3 === void 0 ? _this.defaultVolume : _this$getLastPlayStat3;\n\n      _this.setAudioVolume(remember ? soundValue : _this.defaultVolume);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getDefaultPlayId\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.audioLists;\n\n      var playIndex = _this.getPlayIndex();\n\n      return audioLists[playIndex] && audioLists[playIndex].id;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initLyricParser\", function () {\n      _this.lyric = new Lyric(_this.state.lyric, _this.onLyricChange);\n\n      _this.setState({\n        currentLyric: _this.lyric.lines[0] && _this.lyric.lines[0].text\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLyricChange\", function (_ref11) {\n      var lineNum = _ref11.lineNum,\n          txt = _ref11.txt;\n\n      _this.setState({\n        currentLyric: txt\n      });\n\n      _this.props.onAudioLyricChange && _this.props.onAudioLyricChange(lineNum, txt);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateTheme\", function (theme) {\n      if (theme && theme !== _this.props.theme && Object.values(THEME).includes(theme)) {\n        _this.setState({\n          theme: theme\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMode\", function (mode) {\n      if (mode && mode !== _this.props.mode && Object.values(MODE).includes(mode)) {\n        _this.setState({\n          toggle: mode === MODE.FULL\n        });\n\n        if (mode === MODE.MINI) {\n          _this._closeAudioListsPanel();\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updatePlayMode\", function (playMode) {\n      if (!Object.values(PLAY_MODE).includes(playMode)) {\n        return;\n      }\n\n      if (playMode !== _this.props.playMode) {\n        _this.setState({\n          playMode: playMode\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateAudioLists\", function (audioLists) {\n      var newAudioLists = [].concat(_toConsumableArray(_this.state.audioLists), _toConsumableArray(audioLists.filter(function (audio) {\n        return _this.state.audioLists.findIndex(function (v) {\n          return v.musicSrc === audio.musicSrc;\n        }) === -1;\n      })));\n\n      _this.initPlayInfo(newAudioLists);\n\n      _this.bindEvents(_this.audio);\n\n      _this.props.onAudioListsChange && _this.props.onAudioListsChange(_this.state.playId, audioLists, _this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadNewAudioLists\", function (nextProps) {\n      var audioLists = nextProps.audioLists,\n          remember = nextProps.remember,\n          playMode = nextProps.playMode,\n          theme = nextProps.theme,\n          autoPlayInitLoadPlayList = nextProps.autoPlayInitLoadPlayList,\n          playIndex = nextProps.playIndex;\n\n      if (!Array.isArray(audioLists) || !audioLists.length) {\n        return;\n      }\n\n      var info = _this.getPlayInfoOfNewList(nextProps);\n\n      var lastPlayStatus = remember ? _this.getLastPlayStatus() : {\n        playMode: playMode || PLAY_MODE.order,\n        playIndex: playIndex || 0\n      };\n\n      if (theme !== THEME.AUTO) {\n        lastPlayStatus.theme = theme;\n      }\n\n      var audioInfo = _objectSpread(_objectSpread(_objectSpread({}, info), lastPlayStatus), {}, {\n        isInitAutoPlay: autoPlayInitLoadPlayList\n      });\n\n      if (_this.checkCurrentPlayingAudioIsInUpdatedAudioLists(nextProps)) {\n        _this.setState({\n          audioLists: info.audioLists\n        });\n\n        return;\n      }\n\n      switch (_typeof(info.musicSrc)) {\n        case 'function':\n          info.musicSrc().then(function (musicSrc) {\n            _this.setState(_objectSpread(_objectSpread({}, audioInfo), {}, {\n              musicSrc: musicSrc\n            }), function () {\n              _this.audio.load();\n            });\n          }, _this.onAudioError);\n          break;\n\n        default:\n          _this.setState(audioInfo, function () {\n            // 预加载, 防止非自动播放, 直接点击播放列表无法播放的情况\n            _this.audio.load();\n          });\n\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeAudioLists\", function (nextProps) {\n      if (!_this.checkCurrentPlayingAudioIsInUpdatedAudioLists(nextProps)) {\n        _this.resetAudioStatus();\n      }\n\n      _this.loadNewAudioLists(nextProps);\n\n      _this.props.onAudioListsChange && _this.props.onAudioListsChange(_this.state.playId, nextProps.audioLists, _this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updatePlayIndex\", function (playIndex) {\n      var currentPlayIndex = _this.getCurrentPlayIndex();\n\n      if (playIndex !== undefined && currentPlayIndex !== playIndex) {\n        var currentPlay = _this.state.audioLists[_this.getPlayIndex(playIndex)];\n\n        if (currentPlay && currentPlay.id) {\n          _this.audioListsPlay(currentPlay.id, true);\n        }\n      }\n\n      _this.setState({\n        isAutoPlayWhenUserClicked: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"playByIndex\", function (index) {\n      _this.updatePlayIndex(index);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"appendAudio\", function (fromIndex) {\n      var audioLists = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n      if (!fromIndex && fromIndex !== 0) {\n        // eslint-disable-next-line no-console\n        console.error('Warning! function appendAudio(){} must have formIndex!');\n        return;\n      }\n\n      var newAudioLists = _toConsumableArray(_this.state.audioLists);\n\n      var addedAudioLists = audioLists.map(function (audioInfo) {\n        return _objectSpread({\n          id: uuId()\n        }, audioInfo);\n      });\n      newAudioLists.splice.apply(newAudioLists, [fromIndex, 0].concat(_toConsumableArray(addedAudioLists)));\n\n      _this.changeAudioLists(_objectSpread(_objectSpread({}, _this.props), {}, {\n        audioLists: newAudioLists\n      }));\n\n      _this.onAudioCanPlay();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getEnhanceAudio\", function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          audio = _assertThisInitialize.audio;\n\n      [{\n        name: 'destroy',\n        value: _this.onDestroyPlayer\n      }, {\n        name: 'updatePlayIndex',\n        value: _this.updatePlayIndex\n      }, {\n        name: 'playByIndex',\n        value: _this.playByIndex\n      }, {\n        name: 'playNext',\n        value: _this.audioNextPlay\n      }, {\n        name: 'playPrev',\n        value: _this.audioPrevPlay\n      }, {\n        name: 'togglePlay',\n        value: _this.onTogglePlay\n      }, {\n        name: 'clear',\n        value: _this.clearAudioLists\n      }, {\n        name: 'appendAudio',\n        value: _this.appendAudio\n      }].forEach(function (_ref12) {\n        var name = _ref12.name,\n            value = _ref12.value;\n        Object.defineProperty(audio, name, {\n          value: value,\n          writable: false\n        });\n      });\n      return audio;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onGetAudioInstance\", function () {\n      if (_this.props.getAudioInstance) {\n        _this.props.getAudioInstance(_this.getEnhanceAudio());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMediaSessionMetadata\", function () {\n      if ('mediaSession' in navigator && _this.props.showMediaSession) {\n        var _this$state11 = _this.state,\n            name = _this$state11.name,\n            cover = _this$state11.cover,\n            singer = _this$state11.singer;\n        var mediaMetaDataConfig = {\n          title: name,\n          artist: singer,\n          album: name\n        };\n\n        if (cover) {\n          mediaMetaDataConfig.artwork = ['96x96', '128x128', '192x192', '256x256', '384x384', '512x512'].map(function (size) {\n            return {\n              src: cover,\n              sizes: size,\n              type: 'image/png'\n            };\n          });\n        }\n\n        navigator.mediaSession.metadata = new MediaMetadata(mediaMetaDataConfig);\n\n        _this.updateMediaSessionPositionState();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMediaSessionPositionState\", function () {\n      if ('setPositionState' in navigator.mediaSession) {\n        try {\n          var _assertThisInitialize2 = _assertThisInitialized(_this),\n              audio = _assertThisInitialize2.audio;\n\n          navigator.mediaSession.setPositionState({\n            duration: _this.audioDuration,\n            playbackRate: audio.playbackRate || 1,\n            position: audio.currentTime || 0\n          });\n        } catch (error) {\n          // eslint-disable-next-line no-console\n          console.error('Update media session position state failed: ', error);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAddMediaSession\", function () {\n      if ('mediaSession' in navigator && _this.props.showMediaSession) {\n        var defaultSkipTime = 10;\n        navigator.mediaSession.setActionHandler('play', _this.onTogglePlay);\n        navigator.mediaSession.setActionHandler('pause', _this.onTogglePlay);\n        navigator.mediaSession.setActionHandler('seekbackward', function (details) {\n          var skipTime = details.seekOffset || defaultSkipTime;\n          _this.audio.currentTime = Math.max(_this.audio.currentTime - skipTime, 0);\n          _this.props.onAudioSeeked && _this.props.onAudioSeeked(_this.getBaseAudioInfo());\n        });\n        navigator.mediaSession.setActionHandler('seekforward', function (details) {\n          var skipTime = details.seekOffset || defaultSkipTime;\n          _this.audio.currentTime = Math.min(_this.audio.currentTime + skipTime, _this.audioDuration);\n          _this.props.onAudioSeeked && _this.props.onAudioSeeked(_this.getBaseAudioInfo());\n        });\n        navigator.mediaSession.setActionHandler('previoustrack', _this.audioPrevPlay);\n        navigator.mediaSession.setActionHandler('nexttrack', _this.audioNextPlay);\n        setTimeout(function () {\n          _this.updateMediaSessionMetadata();\n        }, 0);\n\n        try {\n          navigator.mediaSession.setActionHandler('seekto', function (event) {\n            if (event.fastSeek && 'fastSeek' in _this.audio) {\n              _this.audio.fastSeek(event.seekTime);\n\n              return;\n            }\n\n            _this.audio.currentTime = event.seekTime;\n\n            _this.updateMediaSessionPositionState();\n          });\n        } catch (error) {\n          // eslint-disable-next-line no-console\n          console.warn('Warning! The \"seekto\" media session action is not supported.');\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindUnhandledRejection\", function () {\n      window.addEventListener('unhandledrejection', _this.onAudioError);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unBindUnhandledRejection\", function () {\n      window.removeEventListener('unhandledrejection', _this.onAudioError);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindKeyDownEvents\", function () {\n      if (_this.props.spaceBar && _this.player.current) {\n        _this.player.current.addEventListener('keydown', _this.onKeyDown, false);\n\n        _this.player.current.focus({\n          preventScroll: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unBindKeyDownEvents\", function () {\n      if (_this.player.current) {\n        _this.player.current.removeEventListener('keydown', _this.onKeyDown, false);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (e) {\n      var spaceBar = _this.props.spaceBar;\n\n      if (spaceBar && e.keyCode === SPACE_BAR_KEYCODE) {\n        _this.onTogglePlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initPlayer\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.audioLists;\n      var isBindKeyDownEvents = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      if (!Array.isArray(audioLists) || !audioLists.length) {\n        return;\n      }\n\n      _this.setDefaultAudioVolume();\n\n      _this.bindUnhandledRejection();\n\n      _this.bindEvents(_this.audio);\n\n      _this.initLyricParser();\n\n      _this.onAddMediaSession();\n\n      if (IS_MOBILE) {\n        _this.bindMobileAutoPlayEvents();\n      } else {\n        if (isBindKeyDownEvents) {\n          _this.bindKeyDownEvents();\n        }\n\n        if (isSafari()) {\n          _this.bindSafariAutoPlayEvents();\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeLyric\", function () {\n      if (_this.lyric) {\n        _this.lyric.stop();\n\n        _this.lyric = undefined;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unInstallPlayer\", function () {\n      _this.unBindEvents(_this.audio, undefined, false);\n\n      _this.unBindUnhandledRejection();\n\n      _this.unBindKeyDownEvents();\n\n      _this.removeMobileListener();\n\n      _this.removeLyric();\n\n      _this._onDestroyed();\n    });\n\n    _this.audio = null;\n    _this.targetId = 'music-player-controller';\n    _this._PLAY_MODE_ = Object.values(PLAY_MODE);\n    _this._PLAY_MODE_LENGTH_ = _this._PLAY_MODE_.length;\n    _this.player = /*#__PURE__*/createRef();\n    _this.destroyBtn = /*#__PURE__*/createRef();\n    return _this;\n  }\n\n  _createClass(ReactJkMusicPlayer, [{\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$props4 = this.props,\n          className = _this$props4.className,\n          drag = _this$props4.drag,\n          style = _this$props4.style,\n          showDownload = _this$props4.showDownload,\n          showPlay = _this$props4.showPlay,\n          showReload = _this$props4.showReload,\n          showPlayMode = _this$props4.showPlayMode,\n          showThemeSwitch = _this$props4.showThemeSwitch,\n          toggleMode = _this$props4.toggleMode,\n          showMiniModeCover = _this$props4.showMiniModeCover,\n          extendsContent = _this$props4.extendsContent,\n          defaultPlayMode = _this$props4.defaultPlayMode,\n          seeked = _this$props4.seeked,\n          showProgressLoadBar = _this$props4.showProgressLoadBar,\n          bounds = _this$props4.bounds,\n          defaultPosition = _this$props4.defaultPosition,\n          showMiniProcessBar = _this$props4.showMiniProcessBar,\n          preload = _this$props4.preload,\n          glassBg = _this$props4.glassBg,\n          remove = _this$props4.remove,\n          lyricClassName = _this$props4.lyricClassName,\n          showLyric = _this$props4.showLyric,\n          getContainer = _this$props4.getContainer,\n          autoHiddenCover = _this$props4.autoHiddenCover,\n          showDestroy = _this$props4.showDestroy,\n          responsive = _this$props4.responsive;\n      var locale = this.locale;\n      var _this$state12 = this.state,\n          toggle = _this$state12.toggle,\n          playing = _this$state12.playing,\n          currentTime = _this$state12.currentTime,\n          soundValue = _this$state12.soundValue,\n          moveX = _this$state12.moveX,\n          moveY = _this$state12.moveY,\n          loading = _this$state12.loading,\n          audioListsPanelVisible = _this$state12.audioListsPanelVisible,\n          pause = _this$state12.pause,\n          theme = _this$state12.theme,\n          name = _this$state12.name,\n          cover = _this$state12.cover,\n          singer = _this$state12.singer,\n          musicSrc = _this$state12.musicSrc,\n          playId = _this$state12.playId,\n          isMobile = _this$state12.isMobile,\n          playMode = _this$state12.playMode,\n          playModeTipVisible = _this$state12.playModeTipVisible,\n          playModelNameVisible = _this$state12.playModelNameVisible,\n          initAnimate = _this$state12.initAnimate,\n          loadedProgress = _this$state12.loadedProgress,\n          audioLists = _this$state12.audioLists,\n          removeId = _this$state12.removeId,\n          currentLyric = _this$state12.currentLyric,\n          audioLyricVisible = _this$state12.audioLyricVisible,\n          isPlayDestroyed = _this$state12.isPlayDestroyed;\n      var preloadState = preload === false || preload === 'none' ? {} : preload === true ? {\n        preload: 'auto'\n      } : {\n        preload: preload\n      };\n      var panelToggleAnimate = initAnimate ? {\n        show: audioListsPanelVisible,\n        hide: !audioListsPanelVisible\n      } : {\n        show: audioListsPanelVisible\n      };\n      var currentPlayMode = PLAY_MODE[playMode || defaultPlayMode] || PLAY_MODE.order;\n      var currentPlayModeName = locale.playModeText[currentPlayMode];\n      var miniModeCoverConfig = showMiniModeCover && !autoHiddenCover || autoHiddenCover && cover ? {\n        style: {\n          backgroundImage: \"url(\".concat(cover, \")\")\n        }\n      } : {};\n      var formattedCurrentTime = formatTime(currentTime);\n      var formattedAudioDuration = formatTime(this.audioDuration);\n      var progressHandler = seeked ? {\n        onChange: this.onProgressChange,\n        onAfterChange: this.onAudioSeeked\n      } : {}; // 进度条\n\n      var ProgressBar = /*#__PURE__*/React.createElement(React.Fragment, null, showProgressLoadBar && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-load-bar\",\n        style: {\n          width: \"\".concat(Math.min(loadedProgress, 100), \"%\")\n        }\n      }), /*#__PURE__*/React.createElement(Slider, _extends({\n        max: Math.ceil(this.audioDuration),\n        defaultValue: 0,\n        value: Math.ceil(currentTime)\n      }, progressHandler, sliderBaseOptions))); // 下载按钮\n\n      var DownloadComponent = showDownload && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group audio-download\",\n        onClick: this.onAudioDownload,\n        title: locale.downloadText\n      }, this.iconMap.download); // 主题开关\n\n      var ThemeSwitchComponent = showThemeSwitch && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group theme-switch\"\n      }, /*#__PURE__*/React.createElement(Switch, {\n        className: \"theme-switch-container\",\n        onChange: this.themeChange,\n        checkedChildren: locale.lightThemeText,\n        unCheckedChildren: locale.darkThemeText,\n        checked: theme === THEME.LIGHT,\n        title: locale.switchThemeText\n      })); // 重放\n\n      var ReloadComponent = showReload && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group reload-btn\",\n        onClick: this.onAudioReload,\n        title: locale.reloadText\n      }, this.iconMap.reload); // 歌词\n\n      var LyricComponent = showLyric && /*#__PURE__*/React.createElement(\"span\", {\n        className: cls('group lyric-btn', {\n          'lyric-btn-active': audioLyricVisible\n        }),\n        onClick: this.toggleAudioLyric,\n        title: locale.toggleLyricText\n      }, this.iconMap.lyric); // 播放模式\n\n      var PlayModeComponent = showPlayMode && /*#__PURE__*/React.createElement(\"span\", {\n        className: cls('group loop-btn'),\n        onClick: this.togglePlayMode,\n        title: locale.playModeText[currentPlayMode]\n      }, this.renderPlayModeIcon(currentPlayMode));\n      var miniProcessBarR = isMobile ? 30 : 40;\n      var DestroyComponent = showDestroy && /*#__PURE__*/React.createElement(\"span\", {\n        title: locale.destroyText,\n        className: \"group destroy-btn\",\n        ref: this.destroyBtn,\n        onClick: !drag || toggle ? this.onDestroyPlayer : undefined\n      }, this.iconMap.destroy);\n      var AudioController = /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('react-jinke-music-player'),\n        style: defaultPosition,\n        tabIndex: \"-1\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('music-player')\n      }, showMiniProcessBar && /*#__PURE__*/React.createElement(CircleProcessBar, {\n        progress: currentTime / this.audioDuration,\n        r: miniProcessBarR\n      }), /*#__PURE__*/React.createElement(\"div\", _extends({\n        id: this.targetId,\n        className: cls('scale', 'music-player-controller', {\n          'music-player-playing': this.state.playing\n        })\n      }, miniModeCoverConfig, {\n        onClick: !drag ? this.onOpenPanel : undefined\n      }), loading ? this.iconMap.loading : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"controller-title\"\n      }, locale.controllerTitle), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"music-player-controller-setting\"\n      }, toggle ? locale.closeText : locale.openText))), DestroyComponent));\n      var container = getContainer() || document.body;\n      var audioTitle = this.getAudioTitle();\n\n      if (isPlayDestroyed) {\n        return null;\n      }\n\n      return /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('react-jinke-music-player-main', {\n          'light-theme': theme === THEME.LIGHT,\n          'dark-theme': theme === THEME.DARK\n        }, className),\n        style: style,\n        ref: this.player,\n        tabIndex: \"-1\"\n      }, toggle && isMobile && responsive && /*#__PURE__*/React.createElement(AudioPlayerMobile, {\n        playing: playing,\n        loading: loading,\n        pause: pause,\n        name: name,\n        singer: singer,\n        cover: cover,\n        themeSwitch: ThemeSwitchComponent,\n        duration: formattedAudioDuration,\n        currentTime: formattedCurrentTime,\n        progressBar: ProgressBar,\n        onPlay: this.onTogglePlay,\n        currentPlayModeName: currentPlayModeName,\n        playMode: PlayModeComponent,\n        audioNextPlay: this.audioNextPlay,\n        audioPrevPlay: this.audioPrevPlay,\n        icon: _objectSpread(_objectSpread({}, this.iconMap), {}, {\n          reload: ReloadComponent,\n          download: DownloadComponent,\n          lyric: LyricComponent\n        }),\n        playModeTipVisible: playModeTipVisible,\n        openAudioListsPanel: this.openAudioListsPanel,\n        onClose: this.onHidePanel,\n        extendsContent: extendsContent,\n        glassBg: glassBg,\n        autoHiddenCover: autoHiddenCover,\n        onCoverClick: this.onCoverClick,\n        locale: locale\n      }), toggle ? undefined : drag ? /*#__PURE__*/React.createElement(Draggable, {\n        bounds: bounds,\n        position: {\n          x: moveX,\n          y: moveY\n        },\n        onDrag: this.onControllerDrag,\n        onStop: this.onControllerDragStop,\n        onStart: this.onControllerDragStart\n      }, AudioController) : AudioController, toggle && (!isMobile || !responsive) && /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('music-player-panel', 'translate', {\n          'glass-bg': glassBg\n        })\n      }, /*#__PURE__*/React.createElement(\"section\", {\n        className: \"panel-content\"\n      }, (!autoHiddenCover || autoHiddenCover && cover) && /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('img-content', 'img-rotate', {\n          'img-rotate-pause': pause || !playing || !cover\n        }),\n        style: {\n          backgroundImage: \"url(\".concat(cover, \")\")\n        },\n        onClick: function onClick() {\n          return _this4.onCoverClick();\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-bar-content\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"audio-title\",\n        title: audioTitle\n      }, audioTitle), /*#__PURE__*/React.createElement(\"section\", {\n        className: \"audio-main\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"current-time\",\n        title: formattedCurrentTime\n      }, loading ? '--' : formattedCurrentTime), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-bar\"\n      }, ProgressBar), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"duration\",\n        title: formattedAudioDuration\n      }, loading ? '--' : formattedAudioDuration))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"player-content\"\n      }, loading ? this.iconMap.loading : showPlay ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group prev-audio\",\n        title: locale.previousTrackText,\n        onClick: this.audioPrevPlay\n      }, this.iconMap.prev), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group play-btn\",\n        onClick: this.onTogglePlay,\n        title: playing ? locale.clickToPauseText : locale.clickToPlayText\n      }, playing ? this.iconMap.pause : this.iconMap.play), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group next-audio\",\n        title: locale.nextTrackText,\n        onClick: this.audioNextPlay\n      }, this.iconMap.next)) : undefined, ReloadComponent, DownloadComponent, ThemeSwitchComponent, extendsContent || null, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group play-sounds\",\n        title: locale.volumeText\n      }, soundValue === 0 ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sounds-icon\",\n        onClick: this.onResetVolume\n      }, this.iconMap.mute) : /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sounds-icon\",\n        onClick: this.onMute\n      }, this.iconMap.volume), /*#__PURE__*/React.createElement(Slider, _extends({\n        max: 1,\n        value: soundValue,\n        onChange: this.audioSoundChange,\n        className: \"sound-operation\"\n      }, sliderBaseOptions))), PlayModeComponent, LyricComponent, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group audio-lists-btn\",\n        title: locale.playListsText,\n        onClick: this.openAudioListsPanel\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"audio-lists-icon\"\n      }, this.iconMap.playLists), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"audio-lists-num\"\n      }, audioLists.length)), toggleMode && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group hide-panel\",\n        title: locale.toggleMiniModeText,\n        onClick: this.onHidePanel\n      }, this.iconMap.toggle), DestroyComponent))), /*#__PURE__*/React.createElement(AudioListsPanel, {\n        playId: playId,\n        pause: pause,\n        loading: loading,\n        visible: audioListsPanelVisible,\n        audioLists: audioLists,\n        onPlay: this.audioListsPlay,\n        onCancel: this.closeAudioListsPanel,\n        icon: this.iconMap,\n        isMobile: isMobile,\n        panelToggleAnimate: panelToggleAnimate,\n        glassBg: glassBg,\n        cover: cover,\n        remove: remove,\n        onDelete: this.onDeleteAudioLists,\n        removeId: removeId,\n        audioListsDragEnd: this.audioListsDragEnd,\n        locale: locale\n      }), !isMobile && /*#__PURE__*/React.createElement(PlayModel, {\n        visible: playModelNameVisible,\n        value: currentPlayModeName\n      }), audioLyricVisible && /*#__PURE__*/React.createElement(Draggable, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('music-player-lyric', lyricClassName)\n      }, currentLyric || locale.emptyLyricText)), /*#__PURE__*/React.createElement(\"audio\", _extends({\n        className: \"music-player-audio\",\n        title: audioTitle\n      }, preloadState, {\n        src: musicSrc,\n        ref: function ref(node) {\n          _this4.audio = node;\n        }\n      }))), container);\n    }\n  }, {\n    key: \"getBaseAudioInfo\",\n    // 返回给使用者的 音乐信息\n    value: function getBaseAudioInfo() {\n      var _this$state13 = this.state,\n          cover = _this$state13.cover,\n          name = _this$state13.name,\n          musicSrc = _this$state13.musicSrc,\n          soundValue = _this$state13.soundValue,\n          lyric = _this$state13.lyric,\n          audioLists = _this$state13.audioLists,\n          currentLyric = _this$state13.currentLyric;\n\n      var _ref13 = this.audio || {},\n          currentTime = _ref13.currentTime,\n          muted = _ref13.muted,\n          networkState = _ref13.networkState,\n          readyState = _ref13.readyState,\n          played = _ref13.played,\n          paused = _ref13.paused,\n          ended = _ref13.ended,\n          startDate = _ref13.startDate;\n\n      var currentPlayIndex = this.getCurrentPlayIndex();\n      var currentAudioListInfo = audioLists[currentPlayIndex] || {};\n      return _objectSpread(_objectSpread({}, currentAudioListInfo), {}, {\n        cover: cover,\n        name: name,\n        musicSrc: musicSrc,\n        volume: soundValue,\n        currentTime: currentTime,\n        duration: this.audioDuration,\n        muted: muted,\n        networkState: networkState,\n        readyState: readyState,\n        played: played,\n        paused: paused,\n        ended: ended,\n        startDate: startDate,\n        lyric: lyric,\n        currentLyric: currentLyric,\n        playIndex: currentPlayIndex\n      });\n    } // 播放\n\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    // eslint-disable-next-line camelcase\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var audioLists = nextProps.audioLists,\n          playIndex = nextProps.playIndex,\n          theme = nextProps.theme,\n          mode = nextProps.mode,\n          playMode = nextProps.playMode,\n          clearPriorAudioLists = nextProps.clearPriorAudioLists;\n\n      if (!arrayEqual(audioLists)(this.props.audioLists)) {\n        if (clearPriorAudioLists) {\n          this.changeAudioLists(nextProps);\n        } else {\n          this.updateAudioLists(audioLists);\n        }\n\n        if (!this.checkCurrentPlayingAudioIsInUpdatedAudioLists(nextProps)) {\n          this.initPlayer(audioLists, false);\n        }\n      }\n\n      this.updatePlayIndex(playIndex);\n      this.updateTheme(theme);\n      this.updateMode(mode);\n      this.updatePlayMode(playMode);\n    } // eslint-disable-next-line camelcase\n\n  }, {\n    key: \"UNSAFE_componentWillMount\",\n    value: function UNSAFE_componentWillMount() {\n      var _this5 = this;\n\n      var _this$props5 = this.props,\n          audioLists = _this$props5.audioLists,\n          remember = _this$props5.remember;\n\n      if (Array.isArray(audioLists) && audioLists.length >= 1) {\n        var playInfo = this.getPlayInfo(audioLists);\n        var lastPlayStatus = remember ? this.getLastPlayStatus() : {};\n\n        switch (_typeof(playInfo.musicSrc)) {\n          case 'function':\n            playInfo.musicSrc().then(function (val) {\n              _this5.setState(_objectSpread(_objectSpread({}, playInfo), {}, {\n                musicSrc: val\n              }, lastPlayStatus));\n            }, this.onAudioError);\n            break;\n\n          default:\n            this.setState(_objectSpread(_objectSpread({}, playInfo), lastPlayStatus));\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unInstallPlayer();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.addMobileListener();\n      this.addSystemThemeListener();\n      this.initPlayer();\n      this.onGetAudioInstance();\n    }\n  }]);\n\n  return ReactJkMusicPlayer;\n}(PureComponent);\n\n_defineProperty(ReactJkMusicPlayer, \"defaultProps\", {\n  audioLists: [],\n  theme: THEME.DARK,\n  mode: MODE.MINI,\n  defaultPlayMode: PLAY_MODE.order,\n  defaultPosition: {\n    left: 0,\n    top: 0\n  },\n  once: false,\n  // onAudioPlay 事件  是否只触发一次\n  drag: true,\n  toggleMode: true,\n  // 能换在迷你 和完整模式下 互相切换\n  showMiniModeCover: true,\n  // 迷你模式下 是否显示封面图\n  showDownload: true,\n  showPlay: true,\n  showReload: true,\n  showPlayMode: true,\n  showThemeSwitch: true,\n  showLyric: false,\n  playModeTipVisible: false,\n  // 手机端切换播放模式\n  autoPlay: true,\n  defaultVolume: 1,\n  showProgressLoadBar: true,\n  // 音频预加载进度\n  seeked: true,\n  playModeShowTime: 600,\n  // 播放模式提示 显示时间,\n  bounds: 'body',\n  // mini 模式拖拽的可移动边界\n  showMiniProcessBar: false,\n  // 是否在迷你模式 显示进度条\n  loadAudioErrorPlayNext: true,\n  // 加载音频失败时 是否尝试播放下一首\n  preload: false,\n  // 是否在页面加载后立即加载音频\n  glassBg: false,\n  // 是否是毛玻璃效果\n  remember: false,\n  // 是否记住当前播放状态\n  remove: true,\n  // 音乐是否可以删除\n  defaultPlayIndex: 0,\n  // 默认播放索引\n  getContainer: function getContainer() {\n    return document.body;\n  },\n  // 播放器挂载的节点\n  autoHiddenCover: false,\n  // 当前播放歌曲没有封面时是否自动隐藏\n  onBeforeAudioDownload: function onBeforeAudioDownload() {},\n  // 下载前转换音频地址等\n  spaceBar: false,\n  // 是否可以通过空格键 控制播放暂停\n  showDestroy: false,\n  showMediaSession: false,\n  locale: LOCALE.en_US,\n  responsive: true,\n  icon: DEFAULT_ICON,\n  quietUpdate: false // 更新后的播放列表如果有当前正在播放的歌曲不打断当前播放状态\n\n});\n\n_defineProperty(ReactJkMusicPlayer, \"propTypes\", PROP_TYPES);\n\nexport { ReactJkMusicPlayer as default };","map":{"version":3,"sources":["E:/sangit-a-musicapp/client/node_modules/react-jinke-music-player/es/index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","arr2","_typeof","obj","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","value","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","e","getPrototypeOf","cls","download","getIsMobile","Slider","Switch","React","cloneElement","createRef","PureComponent","createPortal","Draggable","AudioListsPanel","CircleProcessBar","AnimatePauseIcon","AnimatePlayIcon","ArrowDownIcon","CloseIcon","DeleteIcon","DownloadIcon","EmptyIcon","FaMinusSquareOIcon","LoadIcon","LoopIcon","LyricIcon","NextAudioIcon","OrderPlayIcon","PlayListsIcon","PrevAudioIcon","ReloadIcon","RepeatIcon","ShufflePlayIcon","VolumeMuteIcon","VolumeUnmuteIcon","AudioPlayerMobile","PlayModel","AUDIO_LIST_REMOVE_ANIMATE_TIME","SPACE_BAR_KEYCODE","LOCALE","MEDIA_QUERY","MODE","NETWORK_STATE","PLAY_MODE","PROP_TYPES","sliderBaseOptions","THEME","LOCALE_CONFIG","Lyric","arrayEqual","createRandomNum","formatTime","isSafari","uuId","IS_MOBILE","DEFAULT_ICON","pause","createElement","play","destroy","close","size","toggle","lyric","volume","mute","next","prev","playLists","reload","loop","order","orderLoop","shuffle","loading","packUpPanelMobile","empty","ReactJkMusicPlayer","_PureComponent","_super","get","locale","en_US","_this$state","state","audioLists","playId","audio","_ref","find","id","duration","Math","max","Number","autoPlay","_this$state2","isInitAutoPlay","isAutoPlayWhenUserClicked","_this2","Spin","className","icon","_this","initPlayId","cover","singer","musicSrc","currentLyric","isMobile","mode","FULL","playing","currentTime","soundValue","moveX","moveY","audioListsPanelVisible","playModelNameVisible","theme","darkThemeName","playMode","defaultPlayMode","currentAudioVolume","initAnimate","isInitRemember","loadedProgress","removeId","isNeedMobileHack","audioLyricVisible","playIndex","defaultPlayIndex","undefined","min","onCoverClick","getBaseAudioInfo","_ref2","audioTitle","_this$state3","concat","setState","index","_PLAY_MODE_","findIndex","_PLAY_MODE_LENGTH_","playModeTipVisible","onPlayModeChange","clearTimeout","playModelTimer","setTimeout","playModeShowTime","animateProps","IconNode","iconMap","singleLoop","shufflePlay","ignore","currentPlayId","console","warn","_ref3","_ref3$lyric","loadAudio","originMusicSrc","stop","load","updateMediaSessionMetadata","initLyricParser","onAudioPlay","onAudioPlayTrackChange","onPlayIndexChange","checkCurrentPlayingAudioIsInUpdatedAudioLists","then","onAudioError","initPlayInfo","onAudioListsChange","resetAudioStatus","audioId","stopPropagation","_this$state4","clearAudioLists","newAudioLists","handlePlay","_ref4","onAudioListsPanelChange","_closeAudioListsPanel","isLight","LIGHT","DARK","onThemeChange","customDownloader","baseAudioInfo","onBeforeAudioDownload","transformedDownloadAudioInfo","info","src","filename","mimeType","onAudioDownload","isDrag","_ref5","x","y","showDestroy","destroyBtn","current","contains","onDestroyPlayer","loadAndPlayAudio","onOpenPanel","setAudioVolume","preventDefault","ele","_ele$getBoundingClien","getBoundingClientRect","left","top","onAudioReload","_this$props","toggleMode","spaceBar","onModeChange","player","focus","preventScroll","MINI","onBeforeDestroy","Promise","resolve","_onDestroyPlayer","unInstallPlayer","isPlayDestroyed","onDestroyed","isAudioCanPlay","onAudioPause","togglePlay","_this$audio","timeRanges","buffered","end","remember","networkState","NETWORK_NO_SOURCE","_this$getLastPlayStat","getLastPlayStatus","isLastPause","reason","error","_this$state5","loadAudioErrorPlayNext","isSingleLoop","currentPlayMode","isLastAudio","isNext","_this$state6","audioListsLen","currentPlayIndex","getCurrentPlayIndex","audioListsPlay","randomIndex","getPlayIndex","randomPlayId","onAudioEnded","_playMode","audioPrevAndNextBasePlayHandle","saveLastPlayStatus","onAudioProgress","onAudioVolumeChange","seek","onAudioSeeked","_this$state7","audioInfo","mergedAudioInfo","onAudioAbort","fromIndex","toIndex","_this$state8","_audioLists","item","splice","_playId","onAudioListsDragEnd","_this$state9","lastPlayStatus","JSON","stringify","localStorage","setItem","_this$props2","status","getDefaultPlayId","parse","getItem","nextProps","_this$state10","quietUpdate","some","newAudioInfo","document","addEventListener","mockAutoPlayForMobile","once","_this3","bindEvents","eventsNames","waiting","canplay","onAudioCanPlay","ended","onAudioEnd","timeupdate","audioTimeUpdate","volumechange","stalled","abort","progress","onSetAudioLoadedProgress","bind","_events","removeEventListener","getPlayId","_ref6","_ref7","_ref6$name","_ref6$cover","_ref6$singer","_ref6$musicSrc","_ref6$lyric","lastAudioLists","mergedAudioLists","map","_getPlayInfo","_nextProps$audioLists","prevAudioBeforeUpdate","_ref8","cb","getPlayInfo","query","handler","media","window","matchMedia","addListener","removeListener","mobileMedia","addMatchMediaListener","MOBILE","mobileMediaHandler","removeMatchMediaListener","systemThemeMedia","DARK_THEME","systemThemeMediaHandler","_ref9","matches","_ref10","AUTO","updateTheme","_this$props3","defaultVolume","_this$getLastPlayStat2","_this$getLastPlayStat3","onLyricChange","lines","text","_ref11","lineNum","txt","onAudioLyricChange","values","includes","v","autoPlayInitLoadPlayList","getPlayInfoOfNewList","loadNewAudioLists","currentPlay","updatePlayIndex","addedAudioLists","changeAudioLists","_assertThisInitialize","playByIndex","audioNextPlay","audioPrevPlay","onTogglePlay","appendAudio","_ref12","getAudioInstance","getEnhanceAudio","navigator","showMediaSession","_this$state11","mediaMetaDataConfig","title","artist","album","artwork","sizes","type","mediaSession","metadata","MediaMetadata","updateMediaSessionPositionState","_assertThisInitialize2","setPositionState","audioDuration","playbackRate","position","defaultSkipTime","setActionHandler","details","skipTime","seekOffset","event","fastSeek","seekTime","onKeyDown","keyCode","isBindKeyDownEvents","setDefaultAudioVolume","bindUnhandledRejection","onAddMediaSession","bindMobileAutoPlayEvents","bindKeyDownEvents","bindSafariAutoPlayEvents","unBindEvents","unBindUnhandledRejection","unBindKeyDownEvents","removeMobileListener","removeLyric","_onDestroyed","targetId","render","_this4","_this$props4","drag","style","showDownload","showPlay","showReload","showPlayMode","showThemeSwitch","showMiniModeCover","extendsContent","seeked","showProgressLoadBar","bounds","defaultPosition","showMiniProcessBar","preload","glassBg","remove","lyricClassName","showLyric","getContainer","autoHiddenCover","responsive","_this$state12","preloadState","panelToggleAnimate","show","hide","currentPlayModeName","playModeText","miniModeCoverConfig","backgroundImage","formattedCurrentTime","formattedAudioDuration","progressHandler","onChange","onProgressChange","onAfterChange","ProgressBar","Fragment","width","ceil","defaultValue","DownloadComponent","onClick","downloadText","ThemeSwitchComponent","themeChange","checkedChildren","lightThemeText","unCheckedChildren","darkThemeText","checked","switchThemeText","ReloadComponent","reloadText","LyricComponent","toggleAudioLyric","toggleLyricText","PlayModeComponent","togglePlayMode","renderPlayModeIcon","miniProcessBarR","DestroyComponent","destroyText","ref","AudioController","tabIndex","r","controllerTitle","closeText","openText","container","body","getAudioTitle","themeSwitch","progressBar","onPlay","openAudioListsPanel","onClose","onHidePanel","onDrag","onControllerDrag","onStop","onControllerDragStop","onStart","onControllerDragStart","previousTrackText","clickToPauseText","clickToPlayText","nextTrackText","volumeText","onResetVolume","onMute","audioSoundChange","playListsText","toggleMiniModeText","visible","onCancel","closeAudioListsPanel","onDelete","onDeleteAudioLists","audioListsDragEnd","emptyLyricText","node","_this$state13","_ref13","muted","readyState","played","paused","startDate","currentAudioListInfo","UNSAFE_componentWillReceiveProps","clearPriorAudioLists","updateAudioLists","initPlayer","updateMode","updatePlayMode","UNSAFE_componentWillMount","_this5","_this$props5","playInfo","val","componentWillUnmount","componentDidMount","addMobileListener","addSystemThemeListener","onGetAudioInstance","default"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * @name react-jinke-music-player\n * @description Maybe the best beautiful HTML5 responsive player component for react :)\n * @author Jinke.Li <1359518268@qq.com>\n * @license MIT\n */\nimport cls from 'classnames';\nimport download from 'downloadjs';\nimport getIsMobile from 'is-mobile';\nimport Slider from 'rc-slider/lib/Slider';\nimport Switch from 'rc-switch';\nimport React, { cloneElement, createRef, PureComponent } from 'react';\nimport { createPortal } from 'react-dom';\nimport Draggable from 'react-draggable';\nimport AudioListsPanel from './components/AudioListsPanel';\nimport CircleProcessBar from './components/CircleProcessBar';\nimport { AnimatePauseIcon, AnimatePlayIcon, ArrowDownIcon, CloseIcon, DeleteIcon, DownloadIcon, EmptyIcon, FaMinusSquareOIcon, LoadIcon, LoopIcon, LyricIcon, NextAudioIcon, OrderPlayIcon, PlayListsIcon, PrevAudioIcon, ReloadIcon, RepeatIcon, ShufflePlayIcon, VolumeMuteIcon, VolumeUnmuteIcon } from './components/Icon';\nimport AudioPlayerMobile from './components/PlayerMobile';\nimport PlayModel from './components/PlayModel';\nimport { AUDIO_LIST_REMOVE_ANIMATE_TIME } from './config/animate';\nimport { SPACE_BAR_KEYCODE } from './config/keycode';\nimport LOCALE from './config/locale';\nimport { MEDIA_QUERY } from './config/mediaQuery';\nimport { MODE } from './config/mode';\nimport NETWORK_STATE from './config/networkState';\nimport PLAY_MODE from './config/playMode';\nimport PROP_TYPES from './config/propTypes';\nimport { sliderBaseOptions } from './config/slider';\nimport { THEME } from './config/theme';\nimport LOCALE_CONFIG from './locale';\nimport Lyric from './lyric';\nimport { arrayEqual, createRandomNum, formatTime, isSafari, uuId } from './utils';\nvar IS_MOBILE = getIsMobile();\nvar DEFAULT_ICON = {\n  pause: /*#__PURE__*/React.createElement(AnimatePauseIcon, null),\n  play: /*#__PURE__*/React.createElement(AnimatePlayIcon, null),\n  destroy: /*#__PURE__*/React.createElement(CloseIcon, null),\n  close: /*#__PURE__*/React.createElement(CloseIcon, null),\n  \"delete\": /*#__PURE__*/React.createElement(DeleteIcon, {\n    size: 24\n  }),\n  download: /*#__PURE__*/React.createElement(DownloadIcon, {\n    size: 26\n  }),\n  toggle: /*#__PURE__*/React.createElement(FaMinusSquareOIcon, null),\n  lyric: /*#__PURE__*/React.createElement(LyricIcon, null),\n  volume: /*#__PURE__*/React.createElement(VolumeUnmuteIcon, {\n    size: 26\n  }),\n  mute: /*#__PURE__*/React.createElement(VolumeMuteIcon, {\n    size: 26\n  }),\n  next: /*#__PURE__*/React.createElement(NextAudioIcon, null),\n  prev: /*#__PURE__*/React.createElement(PrevAudioIcon, null),\n  playLists: /*#__PURE__*/React.createElement(PlayListsIcon, null),\n  reload: /*#__PURE__*/React.createElement(ReloadIcon, {\n    size: 22\n  }),\n  loop: /*#__PURE__*/React.createElement(LoopIcon, {\n    size: 26\n  }),\n  order: /*#__PURE__*/React.createElement(OrderPlayIcon, {\n    size: 26\n  }),\n  orderLoop: /*#__PURE__*/React.createElement(RepeatIcon, {\n    size: 26\n  }),\n  shuffle: /*#__PURE__*/React.createElement(ShufflePlayIcon, {\n    size: 26\n  }),\n  loading: /*#__PURE__*/React.createElement(LoadIcon, null),\n  packUpPanelMobile: /*#__PURE__*/React.createElement(ArrowDownIcon, {\n    size: 26\n  }),\n  empty: /*#__PURE__*/React.createElement(EmptyIcon, null)\n};\n\nvar ReactJkMusicPlayer = /*#__PURE__*/function (_PureComponent) {\n  _inherits(ReactJkMusicPlayer, _PureComponent);\n\n  var _super = _createSuper(ReactJkMusicPlayer);\n\n  _createClass(ReactJkMusicPlayer, [{\n    key: \"locale\",\n    // 初始播放id\n    get: function get() {\n      var locale = this.props.locale;\n\n      if (typeof locale === 'string') {\n        return LOCALE_CONFIG[this.props.locale];\n      }\n\n      return locale ? _objectSpread(_objectSpread({}, LOCALE_CONFIG[LOCALE.en_US]), locale) : {};\n    }\n  }, {\n    key: \"audioDuration\",\n    get: function get() {\n      var _this$state = this.state,\n          audioLists = _this$state.audioLists,\n          playId = _this$state.playId;\n\n      if (!audioLists.length || !this.audio) {\n        return 0;\n      }\n\n      var _ref = audioLists.find(function (audio) {\n        return audio.id === playId;\n      }) || {},\n          duration = _ref.duration;\n\n      return Math.max(Number(duration) || this.audio.duration || 0, 0);\n    }\n  }, {\n    key: \"isAudioCanPlay\",\n    get: function get() {\n      var autoPlay = this.props.autoPlay;\n      var _this$state2 = this.state,\n          isInitAutoPlay = _this$state2.isInitAutoPlay,\n          isAutoPlayWhenUserClicked = _this$state2.isAutoPlayWhenUserClicked;\n      return isInitAutoPlay || autoPlay || isAutoPlayWhenUserClicked;\n    }\n  }, {\n    key: \"iconMap\",\n    get: function get() {\n      var _this2 = this;\n\n      var Spin = function Spin() {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"loading group\"\n        }, _this2.props.icon.loading);\n      };\n\n      return _objectSpread(_objectSpread(_objectSpread({}, DEFAULT_ICON), this.props.icon), {}, {\n        loading: /*#__PURE__*/React.createElement(Spin, null)\n      });\n    }\n  }]);\n\n  function ReactJkMusicPlayer(props) {\n    var _this;\n\n    _classCallCheck(this, ReactJkMusicPlayer);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"isDrag\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"initPlayId\", '');\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      audioLists: [],\n      playId: _this.initPlayId,\n      // 播放id\n      name: '',\n      // 当前歌曲名\n      cover: '',\n      // 当前歌曲封面\n      singer: '',\n      // 当前歌手\n      musicSrc: '',\n      // 当前歌曲链\n      lyric: '',\n      // 当前歌词\n      currentLyric: '',\n      isMobile: IS_MOBILE,\n      toggle: _this.props.mode === MODE.FULL,\n      pause: true,\n      playing: false,\n      currentTime: 0,\n      soundValue: 100,\n      moveX: 0,\n      moveY: 0,\n      loading: false,\n      audioListsPanelVisible: false,\n      playModelNameVisible: false,\n      theme: _this.props.theme || _this.darkThemeName,\n      playMode: _this.props.playMode || _this.props.defaultPlayMode || '',\n      // 当前播放模式\n      currentAudioVolume: 0,\n      // 当前音量  静音后恢复到之前记录的音量\n      initAnimate: false,\n      isInitAutoPlay: _this.props.autoPlay,\n      isInitRemember: false,\n      loadedProgress: 0,\n      removeId: -1,\n      isNeedMobileHack: IS_MOBILE,\n      audioLyricVisible: false,\n      isAutoPlayWhenUserClicked: false,\n      playIndex: _this.props.playIndex || _this.props.defaultPlayIndex || 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayIndex\", function () {\n      var playIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.playIndex;\n      var audioLists = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.state.audioLists;\n      return Math.max(0, Math.min(audioLists.length - 1, playIndex));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCoverClick\", function () {\n      var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : MODE.FULL;\n\n      if (_this.props.onCoverClick) {\n        _this.props.onCoverClick(mode, _this.state.audioLists, _this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getAudioTitle\", function () {\n      // 暂时兼容\n      var _ref2 = _this.locale || {},\n          audioTitle = _ref2.audioTitle;\n\n      var _this$state3 = _this.state,\n          name = _this$state3.name,\n          singer = _this$state3.singer;\n\n      if (typeof audioTitle === 'function' && _this.audio) {\n        return audioTitle(_this.getBaseAudioInfo());\n      }\n\n      return audioTitle || \"\".concat(name, \" \").concat(singer ? \"- \".concat(singer) : '');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleAudioLyric\", function () {\n      _this.setState({\n        audioLyricVisible: !_this.state.audioLyricVisible\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"togglePlayMode\", function () {\n      var index = _this._PLAY_MODE_.findIndex(function (mode) {\n        return mode === _this.state.playMode;\n      });\n\n      var playMode = index === _this._PLAY_MODE_LENGTH_ - 1 ? _this._PLAY_MODE_[0] : _this._PLAY_MODE_[++index];\n\n      _this.setState({\n        playMode: playMode,\n        playModelNameVisible: true,\n        playModeTipVisible: true\n      });\n\n      _this.props.onPlayModeChange && _this.props.onPlayModeChange(playMode);\n      clearTimeout(_this.playModelTimer);\n      _this.playModelTimer = setTimeout(function () {\n        _this.setState({\n          playModelNameVisible: false,\n          playModeTipVisible: false\n        });\n      }, _this.props.playModeShowTime);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderPlayModeIcon\", function (playMode) {\n      var animateProps = {\n        className: 'react-jinke-music-player-mode-icon'\n      };\n      var IconNode = null;\n\n      switch (playMode) {\n        case PLAY_MODE.order:\n          IconNode = /*#__PURE__*/cloneElement(_this.iconMap.order, animateProps);\n          break;\n\n        case PLAY_MODE.orderLoop:\n          IconNode = /*#__PURE__*/cloneElement(_this.iconMap.orderLoop, animateProps);\n          break;\n\n        case PLAY_MODE.singleLoop:\n          IconNode = /*#__PURE__*/cloneElement(_this.iconMap.loop, animateProps);\n          break;\n\n        case PLAY_MODE.shufflePlay:\n          IconNode = /*#__PURE__*/cloneElement(_this.iconMap.shuffle, animateProps);\n          break;\n\n        default:\n          IconNode = /*#__PURE__*/cloneElement(_this.iconMap.order, animateProps);\n      }\n\n      return IconNode;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioListsPlay\", function (playId) {\n      var ignore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var state = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this.state;\n      var currentPlayId = state.playId,\n          pause = state.pause,\n          playing = state.playing,\n          audioLists = state.audioLists;\n\n      if (Array.isArray(audioLists) && audioLists.length === 0) {\n        // eslint-disable-next-line no-console\n        return console.warn('Warning: Your playlist has no songs. and cannot play !');\n      } // 如果点击当前项 就暂停 或者播放\n\n\n      if (playId === currentPlayId && !ignore) {\n        _this.setState({\n          pause: !pause,\n          playing: !playing\n        });\n\n        return pause ? _this.audio.play() : _this.audio.pause();\n      }\n\n      var playIndex = audioLists.findIndex(function (audio) {\n        return audio.id === playId;\n      });\n\n      var _ref3 = audioLists[playIndex] || {},\n          name = _ref3.name,\n          cover = _ref3.cover,\n          musicSrc = _ref3.musicSrc,\n          singer = _ref3.singer,\n          _ref3$lyric = _ref3.lyric,\n          lyric = _ref3$lyric === void 0 ? '' : _ref3$lyric;\n\n      var loadAudio = function loadAudio(originMusicSrc) {\n        _this.setState({\n          name: name,\n          cover: cover,\n          musicSrc: originMusicSrc,\n          singer: singer,\n          playId: playId,\n          lyric: lyric,\n          currentTime: 0,\n          playing: false,\n          loading: true,\n          loadedProgress: 0,\n          playIndex: playIndex,\n          isAutoPlayWhenUserClicked: true\n        }, function () {\n          _this.lyric && _this.lyric.stop();\n\n          _this.audio.load();\n\n          _this.updateMediaSessionMetadata();\n\n          setTimeout(function () {\n            _this.initLyricParser();\n          }, 0);\n        });\n\n        _this.props.onAudioPlay && _this.props.onAudioPlay(_this.getBaseAudioInfo());\n        _this.props.onAudioPlayTrackChange && _this.props.onAudioPlayTrackChange(playId, audioLists, _this.getBaseAudioInfo());\n        _this.props.onPlayIndexChange && _this.props.onPlayIndexChange(playIndex);\n      };\n\n      if (!_this.checkCurrentPlayingAudioIsInUpdatedAudioLists()) {\n        switch (_typeof(musicSrc)) {\n          case 'function':\n            musicSrc().then(loadAudio, _this.onAudioError);\n            break;\n\n          default:\n            loadAudio(musicSrc);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetAudioStatus\", function () {\n      _this.audio.pause();\n\n      _this.lyric && _this.lyric.stop();\n\n      _this.initPlayInfo([]);\n\n      _this.setState({\n        currentTime: 0,\n        loading: false,\n        playing: false,\n        pause: true,\n        lyric: '',\n        currentLyric: '',\n        playId: _this.initPlayId,\n        loadedProgress: 0\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearAudioLists\", function () {\n      _this.props.onAudioListsChange && _this.props.onAudioListsChange('', [], {});\n\n      _this.resetAudioStatus();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDeleteAudioLists\", function (audioId) {\n      return function (e) {\n        e.stopPropagation(); // 如果不 传 id  删除全部\n\n        var _this$state4 = _this.state,\n            audioLists = _this$state4.audioLists,\n            playId = _this$state4.playId;\n\n        if (audioLists.length < 1) {\n          return;\n        }\n\n        _this.lyric && _this.lyric.stop();\n\n        if (!audioId) {\n          _this.clearAudioLists();\n\n          return;\n        }\n\n        var newAudioLists = _toConsumableArray(audioLists).filter(function (audio) {\n          return audio.id !== audioId;\n        }); // 触发删除动画,等动画结束 删除列表\n\n\n        _this.setState({\n          removeId: audioId\n        });\n\n        setTimeout(function () {\n          _this.setState({\n            audioLists: newAudioLists,\n            removeId: -1\n          }, function () {\n            if (!newAudioLists.length) {\n              return _this.resetAudioStatus();\n            } // 如果删除的是当前正在播放的 顺延下一首播放\n\n\n            if (audioId === playId) {\n              _this.handlePlay(PLAY_MODE.orderLoop);\n            }\n          });\n        }, AUDIO_LIST_REMOVE_ANIMATE_TIME);\n        _this.props.onAudioListsChange && _this.props.onAudioListsChange(playId, newAudioLists, _this.getBaseAudioInfo());\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"openAudioListsPanel\", function () {\n      _this.setState(function (_ref4) {\n        var audioListsPanelVisible = _ref4.audioListsPanelVisible;\n        return {\n          initAnimate: true,\n          audioListsPanelVisible: !audioListsPanelVisible\n        };\n      });\n\n      _this.props.onAudioListsPanelChange && _this.props.onAudioListsPanelChange(!_this.state.audioListsPanelVisible);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"closeAudioListsPanel\", function (e) {\n      e.stopPropagation();\n\n      _this._closeAudioListsPanel();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_closeAudioListsPanel\", function () {\n      _this.setState({\n        audioListsPanelVisible: false\n      });\n\n      _this.props.onAudioListsPanelChange && _this.props.onAudioListsPanelChange(false);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"themeChange\", function (isLight) {\n      var theme = isLight ? THEME.LIGHT : THEME.DARK;\n\n      _this.setState({\n        theme: theme\n      });\n\n      _this.props.onThemeChange && _this.props.onThemeChange(theme);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioDownload\", function () {\n      var musicSrc = _this.state.musicSrc;\n\n      if (_this.state.musicSrc) {\n        var customDownloader = _this.props.customDownloader;\n\n        var baseAudioInfo = _this.getBaseAudioInfo();\n\n        var onBeforeAudioDownload = _this.props.onBeforeAudioDownload(baseAudioInfo);\n\n        var transformedDownloadAudioInfo = {};\n\n        if (onBeforeAudioDownload && onBeforeAudioDownload.then) {\n          onBeforeAudioDownload.then(function (info) {\n            var src = info.src,\n                filename = info.filename,\n                mimeType = info.mimeType;\n            transformedDownloadAudioInfo = info;\n\n            if (customDownloader) {\n              customDownloader(info);\n            } else {\n              download(src, filename, mimeType);\n            }\n          });\n        } else {\n          customDownloader ? customDownloader({\n            src: musicSrc\n          }) : download(musicSrc);\n        }\n\n        _this.props.onAudioDownload && _this.props.onAudioDownload(baseAudioInfo, transformedDownloadAudioInfo);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onControllerDrag\", function () {\n      _this.isDrag = true;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onControllerDragStart\", function () {\n      _this.isDrag = false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onControllerDragStop\", function (e, _ref5) {\n      var x = _ref5.x,\n          y = _ref5.y;\n\n      if (_this.props.showDestroy && _this.destroyBtn && _this.destroyBtn.current && _this.destroyBtn.current.contains(e.target)) {\n        _this.onDestroyPlayer();\n\n        return;\n      }\n\n      if (!_this.isDrag) {\n        if (_this.state.isNeedMobileHack) {\n          _this.loadAndPlayAudio();\n\n          _this.setState({\n            isNeedMobileHack: false\n          });\n        }\n\n        _this.onOpenPanel();\n      }\n\n      _this.setState({\n        moveX: x,\n        moveY: y\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResetVolume\", function () {\n      var currentAudioVolume = _this.state.currentAudioVolume;\n\n      _this.setAudioVolume(currentAudioVolume || 0.1);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setAudioVolume\", function (value) {\n      _this.audio.volume = value;\n\n      _this.setState({\n        currentAudioVolume: value,\n        soundValue: value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"stopAll\", function (target) {\n      target.stopPropagation();\n      target.preventDefault();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getBoundingClientRect\", function (ele) {\n      var _ele$getBoundingClien = ele.getBoundingClientRect(),\n          left = _ele$getBoundingClien.left,\n          top = _ele$getBoundingClien.top;\n\n      return {\n        left: left,\n        top: top\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioReload\", function () {\n      if (_this.props.audioLists.length) {\n        _this.handlePlay(PLAY_MODE.singleLoop);\n\n        _this.props.onAudioReload && _this.props.onAudioReload(_this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onOpenPanel\", function () {\n      var _this$props = _this.props,\n          toggleMode = _this$props.toggleMode,\n          spaceBar = _this$props.spaceBar;\n\n      if (toggleMode) {\n        _this.setState({\n          toggle: true\n        });\n\n        _this.props.onModeChange && _this.props.onModeChange(MODE.FULL);\n\n        if (spaceBar && _this.player.current) {\n          _this.player.current.focus({\n            preventScroll: true\n          });\n        }\n      }\n\n      _this.onCoverClick(MODE.MINI);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onHidePanel\", function () {\n      _this.setState({\n        toggle: false,\n        audioListsPanelVisible: false\n      });\n\n      _this.props.onModeChange && _this.props.onModeChange(MODE.MINI);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDestroyPlayer\", function () {\n      if (_this.props.onBeforeDestroy) {\n        var onBeforeDestroy = Promise.resolve(_this.props.onBeforeDestroy(_this.state.playId, _this.state.audioLists, _this.getBaseAudioInfo()));\n\n        if (onBeforeDestroy && onBeforeDestroy.then) {\n          onBeforeDestroy.then(function () {\n            _this._onDestroyPlayer();\n          }) // ignore unhandledrejection handler\n          [\"catch\"](function () {});\n        }\n\n        return;\n      }\n\n      _this._onDestroyPlayer();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDestroyPlayer\", function () {\n      _this.unInstallPlayer();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDestroyed\", function () {\n      _this.setState({\n        isPlayDestroyed: true\n      });\n\n      if (_this.props.onDestroyed) {\n        _this.props.onDestroyed(_this.state.playId, _this.state.audioLists, _this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getCurrentPlayIndex\", function () {\n      return _this.state.audioLists.findIndex(function (audio) {\n        return audio.id === _this.state.playId;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTogglePlay\", function () {\n      if (_this.state.audioLists.length >= 1) {\n        if (_this.state.playing) {\n          return _this.audio.pause();\n        }\n\n        _this.setState( // lgtm [js/react/inconsistent-state-update]\n        {\n          isAutoPlayWhenUserClicked: true\n        }, _this.loadAndPlayAudio);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioCanPlay\", function () {\n      _this.setState({\n        loading: false,\n        playing: false\n      });\n\n      if (_this.isAudioCanPlay) {\n        _this.loadAndPlayAudio();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioPause\", function () {\n      _this.setState({\n        playing: false,\n        pause: true\n      });\n\n      _this.props.onAudioPause && _this.props.onAudioPause(_this.getBaseAudioInfo());\n\n      if (_this.state.lyric && _this.lyric) {\n        _this.lyric.togglePlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioPlay\", function () {\n      _this.setState({\n        playing: true,\n        loading: false\n      });\n\n      _this.props.onAudioPlay && _this.props.onAudioPlay(_this.getBaseAudioInfo());\n\n      if (_this.state.lyric && _this.lyric) {\n        _this.lyric.togglePlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSetAudioLoadedProgress\", function () {\n      var _this$audio = _this.audio,\n          timeRanges = _this$audio.buffered,\n          duration = _this$audio.duration;\n\n      if (timeRanges.length && timeRanges.end) {\n        var loadedProgress = timeRanges.end(timeRanges.length - 1) / duration * 100;\n\n        _this.setState({\n          loadedProgress: loadedProgress\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadAndPlayAudio\", function () {\n      var remember = _this.props.remember;\n      var isInitRemember = _this.state.isInitRemember;\n      var networkState = _this.audio.networkState;\n\n      _this.setState({\n        loading: true\n      });\n\n      if (networkState !== NETWORK_STATE.NETWORK_NO_SOURCE) {\n        var _this$getLastPlayStat = _this.getLastPlayStatus(),\n            pause = _this$getLastPlayStat.pause;\n\n        var isLastPause = remember && !isInitRemember && pause;\n\n        _this.setState({\n          playing: remember ? !isLastPause : _this.isAudioCanPlay,\n          loading: false,\n          pause: remember ? isLastPause : !_this.isAudioCanPlay\n        }, function () {\n          if (remember ? !isLastPause : _this.isAudioCanPlay) {\n            // fuck Safari is need muted :(\n            // this.audio.muted = true\n            _this.audio.play();\n          }\n\n          _this.setState({\n            isInitAutoPlay: true,\n            isInitRemember: true,\n            isAutoPlayWhenUserClicked: false\n          });\n        });\n      } else {\n        _this.onAudioError({\n          reason: '[loadAndPlayAudio]: Failed to load because no supported source was found.'\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioError\", function (error) {\n      var _this$state5 = _this.state,\n          playMode = _this$state5.playMode,\n          audioLists = _this$state5.audioLists,\n          playId = _this$state5.playId,\n          musicSrc = _this$state5.musicSrc;\n      var loadAudioErrorPlayNext = _this.props.loadAudioErrorPlayNext;\n      var isSingleLoop = playMode === PLAY_MODE.singleLoop;\n      var currentPlayMode = isSingleLoop ? PLAY_MODE.order : playMode;\n      _this.lyric && _this.lyric.stop(); // 如果当前音乐加载出错 尝试播放下一首\n\n      if (loadAudioErrorPlayNext && audioLists.length) {\n        var isLastAudio = (playMode === PLAY_MODE.order || playMode === PLAY_MODE.orderLoop) && playId === audioLists[audioLists.length - 1].id;\n\n        if (!isLastAudio) {\n          _this.handlePlay(currentPlayMode, true);\n        }\n      } // 如果删除歌曲或其他原因导致列表为空时\n      // 这时候会触发 https://developer.mozilla.org/en-US/docs/Web/API/MediaError\n\n\n      if (musicSrc) {\n        _this.props.onAudioError && _this.props.onAudioError(_this.audio.error || error && error.reason || null, playId, audioLists, _this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePlay\", function (playMode) {\n      var isNext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var _this$state6 = _this.state,\n          playId = _this$state6.playId,\n          audioLists = _this$state6.audioLists;\n      var audioListsLen = audioLists.length;\n\n      if (!audioListsLen) {\n        return;\n      }\n\n      var currentPlayIndex = _this.getCurrentPlayIndex();\n\n      switch (playMode) {\n        // 顺序播放\n        case PLAY_MODE.order:\n          // 拖拽排序后 或者 正常播放 到最后一首歌 就暂停\n          if (currentPlayIndex === audioListsLen - 1) {\n            _this.audio.pause();\n\n            return;\n          }\n\n          _this.audioListsPlay(isNext ? audioLists[currentPlayIndex + 1].id : audioLists[currentPlayIndex - 1].id);\n\n          break;\n        // 列表循环\n\n        case PLAY_MODE.orderLoop:\n          if (isNext) {\n            if (currentPlayIndex === audioListsLen - 1) {\n              return _this.audioListsPlay(audioLists[0].id);\n            }\n\n            _this.audioListsPlay(audioLists[currentPlayIndex + 1].id);\n          } else {\n            if (currentPlayIndex === 0) {\n              return _this.audioListsPlay(audioLists[audioListsLen - 1].id);\n            }\n\n            _this.audioListsPlay(audioLists[currentPlayIndex - 1].id);\n          }\n\n          break;\n        // 单曲循环\n\n        case PLAY_MODE.singleLoop:\n          _this.audio.currentTime = 0;\n\n          _this.audioListsPlay(playId, true);\n\n          break;\n        // 随机播放\n\n        case PLAY_MODE.shufflePlay:\n          {\n            var randomIndex = createRandomNum(0, audioListsLen - 1);\n\n            if (randomIndex === _this.getCurrentPlayIndex()) {\n              randomIndex = _this.getPlayIndex(randomIndex + 1);\n            }\n\n            var randomPlayId = (audioLists[randomIndex] || {}).id;\n\n            _this.audioListsPlay(randomPlayId, true);\n          }\n          break;\n\n        default:\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioEnd\", function () {\n      _this.props.onAudioEnded && _this.props.onAudioEnded(_this.state.playId, _this.state.audioLists, _this.getBaseAudioInfo());\n\n      _this.handlePlay(_this.state.playMode);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioPrevAndNextBasePlayHandle\", function () {\n      var isNext = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var playMode = _this.state.playMode;\n      var _playMode = '';\n\n      switch (playMode) {\n        case PLAY_MODE.shufflePlay:\n          _playMode = playMode;\n          break;\n\n        default:\n          _playMode = PLAY_MODE.orderLoop;\n          break;\n      }\n\n      _this.handlePlay(_playMode, isNext);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioPrevPlay\", function () {\n      _this.audioPrevAndNextBasePlayHandle(false);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioNextPlay\", function () {\n      _this.audioPrevAndNextBasePlayHandle(true);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioTimeUpdate\", function () {\n      var currentTime = _this.audio.currentTime;\n\n      _this.setState({\n        currentTime: currentTime\n      });\n\n      if (_this.props.remember) {\n        _this.saveLastPlayStatus();\n      }\n\n      _this.props.onAudioProgress && _this.props.onAudioProgress(_this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioSoundChange\", function (value) {\n      _this.setAudioVolume(value);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioVolumeChange\", function () {\n      var volume = _this.audio.volume;\n\n      _this.setState({\n        soundValue: volume\n      });\n\n      _this.props.onAudioVolumeChange && _this.props.onAudioVolumeChange(volume);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onProgressChange\", function (value) {\n      if (_this.audio) {\n        _this.audio.currentTime = value;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioSeeked\", function () {\n      if (_this.state.audioLists.length >= 1) {\n        _this.lyric && _this.lyric.seek(_this.audio.currentTime * 1000);\n\n        if (_this.state.playing && !_this.state.pause) {\n          _this.setState({\n            playing: true\n          }, function () {\n            _this.loadAndPlayAudio();\n          });\n        } else {\n          _this.lyric && _this.lyric.stop();\n        }\n\n        _this.props.onAudioSeeked && _this.props.onAudioSeeked(_this.getBaseAudioInfo());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMute\", function () {\n      _this.setState({\n        soundValue: 0,\n        currentAudioVolume: _this.audio.volume\n      }, function () {\n        _this.audio.volume = 0;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAudioAbort\", function (e) {\n      var _this$state7 = _this.state,\n          audioLists = _this$state7.audioLists,\n          playId = _this$state7.playId;\n\n      var audioInfo = _this.getBaseAudioInfo();\n\n      var mergedAudioInfo = _objectSpread(_objectSpread({}, e), audioInfo);\n\n      _this.props.onAudioAbort && _this.props.onAudioAbort(playId, audioLists, mergedAudioInfo);\n\n      if (audioLists.length) {\n        _this.audio.pause();\n\n        _this.state.isInitAutoPlay && _this.audio.play();\n        _this.lyric && _this.lyric.stop();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleMode\", function (mode) {\n      if (mode === MODE.FULL) {\n        _this.setState({\n          toggle: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleTheme\", function (theme) {\n      _this.setState({\n        theme: theme\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"audioListsDragEnd\", function (fromIndex, toIndex) {\n      var _this$state8 = _this.state,\n          playId = _this$state8.playId,\n          audioLists = _this$state8.audioLists;\n\n      var _audioLists = _toConsumableArray(audioLists);\n\n      var item = _audioLists.splice(fromIndex, 1)[0];\n\n      _audioLists.splice(toIndex, 0, item); // 如果拖动正在播放的歌曲 播放Id 等于 拖动后的index\n\n\n      var _playId = fromIndex === playId ? toIndex : playId;\n\n      _this.setState({\n        audioLists: _audioLists,\n        playId: _playId\n      });\n\n      _this.props.onAudioListsDragEnd && _this.props.onAudioListsDragEnd(fromIndex, toIndex);\n      _this.props.onAudioListsChange && _this.props.onAudioListsChange(_playId, _audioLists, _this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"saveLastPlayStatus\", function () {\n      var _this$state9 = _this.state,\n          currentTime = _this$state9.currentTime,\n          playId = _this$state9.playId,\n          theme = _this$state9.theme,\n          soundValue = _this$state9.soundValue,\n          playMode = _this$state9.playMode,\n          name = _this$state9.name,\n          cover = _this$state9.cover,\n          singer = _this$state9.singer,\n          musicSrc = _this$state9.musicSrc,\n          pause = _this$state9.pause;\n      var lastPlayStatus = JSON.stringify({\n        currentTime: currentTime,\n        playId: playId,\n        theme: theme,\n        playMode: playMode,\n        soundValue: soundValue,\n        name: name,\n        cover: cover,\n        singer: singer,\n        musicSrc: musicSrc,\n        pause: pause\n      });\n      localStorage.setItem('lastPlayStatus', lastPlayStatus);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getLastPlayStatus\", function () {\n      var _this$props2 = _this.props,\n          theme = _this$props2.theme,\n          defaultPlayMode = _this$props2.defaultPlayMode,\n          playMode = _this$props2.playMode,\n          defaultPlayIndex = _this$props2.defaultPlayIndex,\n          playIndex = _this$props2.playIndex;\n      var status = {\n        currentTime: 0,\n        playMode: playMode || defaultPlayMode || PLAY_MODE.order,\n        name: '',\n        cover: '',\n        singer: '',\n        musicSrc: '',\n        lyric: '',\n        playId: _this.getDefaultPlayId(),\n        theme: theme,\n        pause: false,\n        playIndex: playIndex || defaultPlayIndex || 0\n      };\n\n      try {\n        return JSON.parse(localStorage.getItem('lastPlayStatus')) || status;\n      } catch (error) {\n        return status;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"checkCurrentPlayingAudioIsInUpdatedAudioLists\", function () {\n      var nextProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n      var _this$state10 = _this.state,\n          playId = _this$state10.playId,\n          musicSrc = _this$state10.musicSrc;\n\n      if (!nextProps.quietUpdate || !Array.isArray(nextProps.audioLists)) {\n        return false;\n      }\n\n      return playId && nextProps.audioLists.some(function (newAudioInfo) {\n        return newAudioInfo.id === playId || newAudioInfo.musicSrc === musicSrc;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mockAutoPlayForMobile\", function () {\n      if (_this.props.autoPlay && !_this.state.playing && _this.state.pause) {\n        _this.audio.load();\n\n        _this.audio.pause();\n\n        _this.audio.play();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindMobileAutoPlayEvents\", function () {\n      document.addEventListener('touchstart', function () {\n        _this.mockAutoPlayForMobile();\n      }, {\n        once: true\n      }); // 监听微信准备就绪事件\n\n      document.addEventListener('WeixinJSBridgeReady', function () {\n        _this.mockAutoPlayForMobile();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindSafariAutoPlayEvents\", function () {\n      document.addEventListener('click', function () {\n        _this.mockAutoPlayForMobile();\n      }, {\n        once: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unBindEvents\", function () {\n      var _this3;\n\n      (_this3 = _this).bindEvents.apply(_this3, arguments);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindEvents\", function () {\n      var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.audio;\n      var eventsNames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        waiting: _this.loadAndPlayAudio,\n        canplay: _this.onAudioCanPlay,\n        error: _this.onAudioError,\n        ended: _this.onAudioEnd,\n        pause: _this.onAudioPause,\n        play: _this.onAudioPlay,\n        timeupdate: _this.audioTimeUpdate,\n        volumechange: _this.onAudioVolumeChange,\n        stalled: _this.onAudioError,\n        // 当浏览器尝试获取媒体数据，但数据不可用时\n        abort: _this.onAudioAbort,\n        progress: _this.onSetAudioLoadedProgress\n      };\n      var bind = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var once = _this.props.once;\n\n      for (var name in eventsNames) {\n        var _events = eventsNames[name];\n\n        if (target) {\n          bind ? target.addEventListener(name, _events, {\n            once: !!(once && name === 'play')\n          }) : target.removeEventListener(name, _events);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayId\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state.audioLists;\n\n      var playIndex = _this.getPlayIndex(undefined, audioLists);\n\n      var playId = _this.state.playId || audioLists[playIndex] && audioLists[playIndex].id;\n      return playId;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_getPlayInfo\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var playId = _this.getPlayId(audioLists);\n\n      var _ref6 = audioLists.find(function (_ref7) {\n        var id = _ref7.id;\n        return id === playId;\n      }) || {},\n          _ref6$name = _ref6.name,\n          name = _ref6$name === void 0 ? '' : _ref6$name,\n          _ref6$cover = _ref6.cover,\n          cover = _ref6$cover === void 0 ? '' : _ref6$cover,\n          _ref6$singer = _ref6.singer,\n          singer = _ref6$singer === void 0 ? '' : _ref6$singer,\n          _ref6$musicSrc = _ref6.musicSrc,\n          musicSrc = _ref6$musicSrc === void 0 ? '' : _ref6$musicSrc,\n          _ref6$lyric = _ref6.lyric,\n          lyric = _ref6$lyric === void 0 ? '' : _ref6$lyric;\n\n      return {\n        name: name,\n        cover: cover,\n        singer: singer,\n        musicSrc: musicSrc,\n        lyric: lyric,\n        audioLists: audioLists,\n        playId: playId\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayInfo\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var newAudioLists = audioLists.filter(function (audio) {\n        return !audio.id;\n      });\n      var lastAudioLists = audioLists.filter(function (audio) {\n        return audio.id;\n      });\n      var mergedAudioLists = [].concat(_toConsumableArray(lastAudioLists), _toConsumableArray(newAudioLists.map(function (info) {\n        return _objectSpread(_objectSpread({}, info), {}, {\n          id: uuId()\n        });\n      })));\n      return _this._getPlayInfo(mergedAudioLists);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPlayInfoOfNewList\", function (nextProps) {\n      var _nextProps$audioLists = nextProps.audioLists,\n          audioLists = _nextProps$audioLists === void 0 ? [] : _nextProps$audioLists;\n\n      var _audioLists = audioLists.map(function (info) {\n        var prevAudioBeforeUpdate = nextProps.quietUpdate && _this.state.audioLists.find(function (_ref8) {\n          var musicSrc = _ref8.musicSrc;\n          return musicSrc === info.musicSrc;\n        }) || {};\n        return _objectSpread(_objectSpread({}, info), {}, {\n          id: prevAudioBeforeUpdate.id || uuId()\n        });\n      });\n\n      return _this._getPlayInfo(_audioLists);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initPlayInfo\", function (audioLists, cb) {\n      var info = _this.getPlayInfo(audioLists);\n\n      switch (_typeof(info.musicSrc)) {\n        case 'function':\n          info.musicSrc().then(function (originMusicSrc) {\n            _this.setState(_objectSpread(_objectSpread({}, info), {}, {\n              musicSrc: originMusicSrc\n            }), cb);\n          }, _this.onAudioError);\n          break;\n\n        default:\n          _this.setState(info, cb);\n\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addMatchMediaListener\", function (query, handler) {\n      var media = window.matchMedia(query);\n      handler(media);\n\n      if ('addEventListener' in media) {\n        media.addEventListener('change', handler);\n      } else {\n        media.addListener(handler);\n      }\n\n      return media;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeMatchMediaListener\", function (media, handler) {\n      if (media) {\n        if ('removeEventListener' in media) {\n          media.removeEventListener('change', handler);\n        } else {\n          media.removeListener && media.removeListener(handler);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addMobileListener\", function () {\n      _this.mobileMedia = _this.addMatchMediaListener(MEDIA_QUERY.MOBILE, _this.mobileMediaHandler);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeMobileListener\", function () {\n      _this.removeMatchMediaListener(_this.mobileMedia, _this.mobileMediaHandler);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addSystemThemeListener\", function () {\n      _this.systemThemeMedia = _this.addMatchMediaListener(MEDIA_QUERY.DARK_THEME, _this.systemThemeMediaHandler);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeSystemThemeListener\", function () {\n      _this.removeMatchMediaListener(_this.systemThemeMedia, _this.systemThemeMediaHandler);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mobileMediaHandler\", function (_ref9) {\n      var matches = _ref9.matches;\n\n      _this.setState({\n        isMobile: !!matches\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"systemThemeMediaHandler\", function (_ref10) {\n      var matches = _ref10.matches;\n\n      if (_this.props.theme === THEME.AUTO) {\n        var theme = matches ? THEME.DARK : THEME.LIGHT;\n\n        _this.updateTheme(theme);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setDefaultAudioVolume\", function () {\n      var _this$props3 = _this.props,\n          defaultVolume = _this$props3.defaultVolume,\n          remember = _this$props3.remember; // 音量 [0-1]\n\n      _this.defaultVolume = Math.max(0, Math.min(defaultVolume, 1));\n\n      var _this$getLastPlayStat2 = _this.getLastPlayStatus(),\n          _this$getLastPlayStat3 = _this$getLastPlayStat2.soundValue,\n          soundValue = _this$getLastPlayStat3 === void 0 ? _this.defaultVolume : _this$getLastPlayStat3;\n\n      _this.setAudioVolume(remember ? soundValue : _this.defaultVolume);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getDefaultPlayId\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.audioLists;\n\n      var playIndex = _this.getPlayIndex();\n\n      return audioLists[playIndex] && audioLists[playIndex].id;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initLyricParser\", function () {\n      _this.lyric = new Lyric(_this.state.lyric, _this.onLyricChange);\n\n      _this.setState({\n        currentLyric: _this.lyric.lines[0] && _this.lyric.lines[0].text\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLyricChange\", function (_ref11) {\n      var lineNum = _ref11.lineNum,\n          txt = _ref11.txt;\n\n      _this.setState({\n        currentLyric: txt\n      });\n\n      _this.props.onAudioLyricChange && _this.props.onAudioLyricChange(lineNum, txt);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateTheme\", function (theme) {\n      if (theme && theme !== _this.props.theme && Object.values(THEME).includes(theme)) {\n        _this.setState({\n          theme: theme\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMode\", function (mode) {\n      if (mode && mode !== _this.props.mode && Object.values(MODE).includes(mode)) {\n        _this.setState({\n          toggle: mode === MODE.FULL\n        });\n\n        if (mode === MODE.MINI) {\n          _this._closeAudioListsPanel();\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updatePlayMode\", function (playMode) {\n      if (!Object.values(PLAY_MODE).includes(playMode)) {\n        return;\n      }\n\n      if (playMode !== _this.props.playMode) {\n        _this.setState({\n          playMode: playMode\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateAudioLists\", function (audioLists) {\n      var newAudioLists = [].concat(_toConsumableArray(_this.state.audioLists), _toConsumableArray(audioLists.filter(function (audio) {\n        return _this.state.audioLists.findIndex(function (v) {\n          return v.musicSrc === audio.musicSrc;\n        }) === -1;\n      })));\n\n      _this.initPlayInfo(newAudioLists);\n\n      _this.bindEvents(_this.audio);\n\n      _this.props.onAudioListsChange && _this.props.onAudioListsChange(_this.state.playId, audioLists, _this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadNewAudioLists\", function (nextProps) {\n      var audioLists = nextProps.audioLists,\n          remember = nextProps.remember,\n          playMode = nextProps.playMode,\n          theme = nextProps.theme,\n          autoPlayInitLoadPlayList = nextProps.autoPlayInitLoadPlayList,\n          playIndex = nextProps.playIndex;\n\n      if (!Array.isArray(audioLists) || !audioLists.length) {\n        return;\n      }\n\n      var info = _this.getPlayInfoOfNewList(nextProps);\n\n      var lastPlayStatus = remember ? _this.getLastPlayStatus() : {\n        playMode: playMode || PLAY_MODE.order,\n        playIndex: playIndex || 0\n      };\n\n      if (theme !== THEME.AUTO) {\n        lastPlayStatus.theme = theme;\n      }\n\n      var audioInfo = _objectSpread(_objectSpread(_objectSpread({}, info), lastPlayStatus), {}, {\n        isInitAutoPlay: autoPlayInitLoadPlayList\n      });\n\n      if (_this.checkCurrentPlayingAudioIsInUpdatedAudioLists(nextProps)) {\n        _this.setState({\n          audioLists: info.audioLists\n        });\n\n        return;\n      }\n\n      switch (_typeof(info.musicSrc)) {\n        case 'function':\n          info.musicSrc().then(function (musicSrc) {\n            _this.setState(_objectSpread(_objectSpread({}, audioInfo), {}, {\n              musicSrc: musicSrc\n            }), function () {\n              _this.audio.load();\n            });\n          }, _this.onAudioError);\n          break;\n\n        default:\n          _this.setState(audioInfo, function () {\n            // 预加载, 防止非自动播放, 直接点击播放列表无法播放的情况\n            _this.audio.load();\n          });\n\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeAudioLists\", function (nextProps) {\n      if (!_this.checkCurrentPlayingAudioIsInUpdatedAudioLists(nextProps)) {\n        _this.resetAudioStatus();\n      }\n\n      _this.loadNewAudioLists(nextProps);\n\n      _this.props.onAudioListsChange && _this.props.onAudioListsChange(_this.state.playId, nextProps.audioLists, _this.getBaseAudioInfo());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updatePlayIndex\", function (playIndex) {\n      var currentPlayIndex = _this.getCurrentPlayIndex();\n\n      if (playIndex !== undefined && currentPlayIndex !== playIndex) {\n        var currentPlay = _this.state.audioLists[_this.getPlayIndex(playIndex)];\n\n        if (currentPlay && currentPlay.id) {\n          _this.audioListsPlay(currentPlay.id, true);\n        }\n      }\n\n      _this.setState({\n        isAutoPlayWhenUserClicked: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"playByIndex\", function (index) {\n      _this.updatePlayIndex(index);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"appendAudio\", function (fromIndex) {\n      var audioLists = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n      if (!fromIndex && fromIndex !== 0) {\n        // eslint-disable-next-line no-console\n        console.error('Warning! function appendAudio(){} must have formIndex!');\n        return;\n      }\n\n      var newAudioLists = _toConsumableArray(_this.state.audioLists);\n\n      var addedAudioLists = audioLists.map(function (audioInfo) {\n        return _objectSpread({\n          id: uuId()\n        }, audioInfo);\n      });\n      newAudioLists.splice.apply(newAudioLists, [fromIndex, 0].concat(_toConsumableArray(addedAudioLists)));\n\n      _this.changeAudioLists(_objectSpread(_objectSpread({}, _this.props), {}, {\n        audioLists: newAudioLists\n      }));\n\n      _this.onAudioCanPlay();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getEnhanceAudio\", function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          audio = _assertThisInitialize.audio;\n\n      [{\n        name: 'destroy',\n        value: _this.onDestroyPlayer\n      }, {\n        name: 'updatePlayIndex',\n        value: _this.updatePlayIndex\n      }, {\n        name: 'playByIndex',\n        value: _this.playByIndex\n      }, {\n        name: 'playNext',\n        value: _this.audioNextPlay\n      }, {\n        name: 'playPrev',\n        value: _this.audioPrevPlay\n      }, {\n        name: 'togglePlay',\n        value: _this.onTogglePlay\n      }, {\n        name: 'clear',\n        value: _this.clearAudioLists\n      }, {\n        name: 'appendAudio',\n        value: _this.appendAudio\n      }].forEach(function (_ref12) {\n        var name = _ref12.name,\n            value = _ref12.value;\n        Object.defineProperty(audio, name, {\n          value: value,\n          writable: false\n        });\n      });\n      return audio;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onGetAudioInstance\", function () {\n      if (_this.props.getAudioInstance) {\n        _this.props.getAudioInstance(_this.getEnhanceAudio());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMediaSessionMetadata\", function () {\n      if ('mediaSession' in navigator && _this.props.showMediaSession) {\n        var _this$state11 = _this.state,\n            name = _this$state11.name,\n            cover = _this$state11.cover,\n            singer = _this$state11.singer;\n        var mediaMetaDataConfig = {\n          title: name,\n          artist: singer,\n          album: name\n        };\n\n        if (cover) {\n          mediaMetaDataConfig.artwork = ['96x96', '128x128', '192x192', '256x256', '384x384', '512x512'].map(function (size) {\n            return {\n              src: cover,\n              sizes: size,\n              type: 'image/png'\n            };\n          });\n        }\n\n        navigator.mediaSession.metadata = new MediaMetadata(mediaMetaDataConfig);\n\n        _this.updateMediaSessionPositionState();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMediaSessionPositionState\", function () {\n      if ('setPositionState' in navigator.mediaSession) {\n        try {\n          var _assertThisInitialize2 = _assertThisInitialized(_this),\n              audio = _assertThisInitialize2.audio;\n\n          navigator.mediaSession.setPositionState({\n            duration: _this.audioDuration,\n            playbackRate: audio.playbackRate || 1,\n            position: audio.currentTime || 0\n          });\n        } catch (error) {\n          // eslint-disable-next-line no-console\n          console.error('Update media session position state failed: ', error);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAddMediaSession\", function () {\n      if ('mediaSession' in navigator && _this.props.showMediaSession) {\n        var defaultSkipTime = 10;\n        navigator.mediaSession.setActionHandler('play', _this.onTogglePlay);\n        navigator.mediaSession.setActionHandler('pause', _this.onTogglePlay);\n        navigator.mediaSession.setActionHandler('seekbackward', function (details) {\n          var skipTime = details.seekOffset || defaultSkipTime;\n          _this.audio.currentTime = Math.max(_this.audio.currentTime - skipTime, 0);\n          _this.props.onAudioSeeked && _this.props.onAudioSeeked(_this.getBaseAudioInfo());\n        });\n        navigator.mediaSession.setActionHandler('seekforward', function (details) {\n          var skipTime = details.seekOffset || defaultSkipTime;\n          _this.audio.currentTime = Math.min(_this.audio.currentTime + skipTime, _this.audioDuration);\n          _this.props.onAudioSeeked && _this.props.onAudioSeeked(_this.getBaseAudioInfo());\n        });\n        navigator.mediaSession.setActionHandler('previoustrack', _this.audioPrevPlay);\n        navigator.mediaSession.setActionHandler('nexttrack', _this.audioNextPlay);\n        setTimeout(function () {\n          _this.updateMediaSessionMetadata();\n        }, 0);\n\n        try {\n          navigator.mediaSession.setActionHandler('seekto', function (event) {\n            if (event.fastSeek && 'fastSeek' in _this.audio) {\n              _this.audio.fastSeek(event.seekTime);\n\n              return;\n            }\n\n            _this.audio.currentTime = event.seekTime;\n\n            _this.updateMediaSessionPositionState();\n          });\n        } catch (error) {\n          // eslint-disable-next-line no-console\n          console.warn('Warning! The \"seekto\" media session action is not supported.');\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindUnhandledRejection\", function () {\n      window.addEventListener('unhandledrejection', _this.onAudioError);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unBindUnhandledRejection\", function () {\n      window.removeEventListener('unhandledrejection', _this.onAudioError);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"bindKeyDownEvents\", function () {\n      if (_this.props.spaceBar && _this.player.current) {\n        _this.player.current.addEventListener('keydown', _this.onKeyDown, false);\n\n        _this.player.current.focus({\n          preventScroll: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unBindKeyDownEvents\", function () {\n      if (_this.player.current) {\n        _this.player.current.removeEventListener('keydown', _this.onKeyDown, false);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (e) {\n      var spaceBar = _this.props.spaceBar;\n\n      if (spaceBar && e.keyCode === SPACE_BAR_KEYCODE) {\n        _this.onTogglePlay();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initPlayer\", function () {\n      var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.audioLists;\n      var isBindKeyDownEvents = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      if (!Array.isArray(audioLists) || !audioLists.length) {\n        return;\n      }\n\n      _this.setDefaultAudioVolume();\n\n      _this.bindUnhandledRejection();\n\n      _this.bindEvents(_this.audio);\n\n      _this.initLyricParser();\n\n      _this.onAddMediaSession();\n\n      if (IS_MOBILE) {\n        _this.bindMobileAutoPlayEvents();\n      } else {\n        if (isBindKeyDownEvents) {\n          _this.bindKeyDownEvents();\n        }\n\n        if (isSafari()) {\n          _this.bindSafariAutoPlayEvents();\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeLyric\", function () {\n      if (_this.lyric) {\n        _this.lyric.stop();\n\n        _this.lyric = undefined;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unInstallPlayer\", function () {\n      _this.unBindEvents(_this.audio, undefined, false);\n\n      _this.unBindUnhandledRejection();\n\n      _this.unBindKeyDownEvents();\n\n      _this.removeMobileListener();\n\n      _this.removeLyric();\n\n      _this._onDestroyed();\n    });\n\n    _this.audio = null;\n    _this.targetId = 'music-player-controller';\n    _this._PLAY_MODE_ = Object.values(PLAY_MODE);\n    _this._PLAY_MODE_LENGTH_ = _this._PLAY_MODE_.length;\n    _this.player = /*#__PURE__*/createRef();\n    _this.destroyBtn = /*#__PURE__*/createRef();\n    return _this;\n  }\n\n  _createClass(ReactJkMusicPlayer, [{\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$props4 = this.props,\n          className = _this$props4.className,\n          drag = _this$props4.drag,\n          style = _this$props4.style,\n          showDownload = _this$props4.showDownload,\n          showPlay = _this$props4.showPlay,\n          showReload = _this$props4.showReload,\n          showPlayMode = _this$props4.showPlayMode,\n          showThemeSwitch = _this$props4.showThemeSwitch,\n          toggleMode = _this$props4.toggleMode,\n          showMiniModeCover = _this$props4.showMiniModeCover,\n          extendsContent = _this$props4.extendsContent,\n          defaultPlayMode = _this$props4.defaultPlayMode,\n          seeked = _this$props4.seeked,\n          showProgressLoadBar = _this$props4.showProgressLoadBar,\n          bounds = _this$props4.bounds,\n          defaultPosition = _this$props4.defaultPosition,\n          showMiniProcessBar = _this$props4.showMiniProcessBar,\n          preload = _this$props4.preload,\n          glassBg = _this$props4.glassBg,\n          remove = _this$props4.remove,\n          lyricClassName = _this$props4.lyricClassName,\n          showLyric = _this$props4.showLyric,\n          getContainer = _this$props4.getContainer,\n          autoHiddenCover = _this$props4.autoHiddenCover,\n          showDestroy = _this$props4.showDestroy,\n          responsive = _this$props4.responsive;\n      var locale = this.locale;\n      var _this$state12 = this.state,\n          toggle = _this$state12.toggle,\n          playing = _this$state12.playing,\n          currentTime = _this$state12.currentTime,\n          soundValue = _this$state12.soundValue,\n          moveX = _this$state12.moveX,\n          moveY = _this$state12.moveY,\n          loading = _this$state12.loading,\n          audioListsPanelVisible = _this$state12.audioListsPanelVisible,\n          pause = _this$state12.pause,\n          theme = _this$state12.theme,\n          name = _this$state12.name,\n          cover = _this$state12.cover,\n          singer = _this$state12.singer,\n          musicSrc = _this$state12.musicSrc,\n          playId = _this$state12.playId,\n          isMobile = _this$state12.isMobile,\n          playMode = _this$state12.playMode,\n          playModeTipVisible = _this$state12.playModeTipVisible,\n          playModelNameVisible = _this$state12.playModelNameVisible,\n          initAnimate = _this$state12.initAnimate,\n          loadedProgress = _this$state12.loadedProgress,\n          audioLists = _this$state12.audioLists,\n          removeId = _this$state12.removeId,\n          currentLyric = _this$state12.currentLyric,\n          audioLyricVisible = _this$state12.audioLyricVisible,\n          isPlayDestroyed = _this$state12.isPlayDestroyed;\n      var preloadState = preload === false || preload === 'none' ? {} : preload === true ? {\n        preload: 'auto'\n      } : {\n        preload: preload\n      };\n      var panelToggleAnimate = initAnimate ? {\n        show: audioListsPanelVisible,\n        hide: !audioListsPanelVisible\n      } : {\n        show: audioListsPanelVisible\n      };\n      var currentPlayMode = PLAY_MODE[playMode || defaultPlayMode] || PLAY_MODE.order;\n      var currentPlayModeName = locale.playModeText[currentPlayMode];\n      var miniModeCoverConfig = showMiniModeCover && !autoHiddenCover || autoHiddenCover && cover ? {\n        style: {\n          backgroundImage: \"url(\".concat(cover, \")\")\n        }\n      } : {};\n      var formattedCurrentTime = formatTime(currentTime);\n      var formattedAudioDuration = formatTime(this.audioDuration);\n      var progressHandler = seeked ? {\n        onChange: this.onProgressChange,\n        onAfterChange: this.onAudioSeeked\n      } : {}; // 进度条\n\n      var ProgressBar = /*#__PURE__*/React.createElement(React.Fragment, null, showProgressLoadBar && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-load-bar\",\n        style: {\n          width: \"\".concat(Math.min(loadedProgress, 100), \"%\")\n        }\n      }), /*#__PURE__*/React.createElement(Slider, _extends({\n        max: Math.ceil(this.audioDuration),\n        defaultValue: 0,\n        value: Math.ceil(currentTime)\n      }, progressHandler, sliderBaseOptions))); // 下载按钮\n\n      var DownloadComponent = showDownload && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group audio-download\",\n        onClick: this.onAudioDownload,\n        title: locale.downloadText\n      }, this.iconMap.download); // 主题开关\n\n      var ThemeSwitchComponent = showThemeSwitch && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group theme-switch\"\n      }, /*#__PURE__*/React.createElement(Switch, {\n        className: \"theme-switch-container\",\n        onChange: this.themeChange,\n        checkedChildren: locale.lightThemeText,\n        unCheckedChildren: locale.darkThemeText,\n        checked: theme === THEME.LIGHT,\n        title: locale.switchThemeText\n      })); // 重放\n\n      var ReloadComponent = showReload && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group reload-btn\",\n        onClick: this.onAudioReload,\n        title: locale.reloadText\n      }, this.iconMap.reload); // 歌词\n\n      var LyricComponent = showLyric && /*#__PURE__*/React.createElement(\"span\", {\n        className: cls('group lyric-btn', {\n          'lyric-btn-active': audioLyricVisible\n        }),\n        onClick: this.toggleAudioLyric,\n        title: locale.toggleLyricText\n      }, this.iconMap.lyric); // 播放模式\n\n      var PlayModeComponent = showPlayMode && /*#__PURE__*/React.createElement(\"span\", {\n        className: cls('group loop-btn'),\n        onClick: this.togglePlayMode,\n        title: locale.playModeText[currentPlayMode]\n      }, this.renderPlayModeIcon(currentPlayMode));\n      var miniProcessBarR = isMobile ? 30 : 40;\n      var DestroyComponent = showDestroy && /*#__PURE__*/React.createElement(\"span\", {\n        title: locale.destroyText,\n        className: \"group destroy-btn\",\n        ref: this.destroyBtn,\n        onClick: !drag || toggle ? this.onDestroyPlayer : undefined\n      }, this.iconMap.destroy);\n      var AudioController = /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('react-jinke-music-player'),\n        style: defaultPosition,\n        tabIndex: \"-1\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('music-player')\n      }, showMiniProcessBar && /*#__PURE__*/React.createElement(CircleProcessBar, {\n        progress: currentTime / this.audioDuration,\n        r: miniProcessBarR\n      }), /*#__PURE__*/React.createElement(\"div\", _extends({\n        id: this.targetId,\n        className: cls('scale', 'music-player-controller', {\n          'music-player-playing': this.state.playing\n        })\n      }, miniModeCoverConfig, {\n        onClick: !drag ? this.onOpenPanel : undefined\n      }), loading ? this.iconMap.loading : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"controller-title\"\n      }, locale.controllerTitle), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"music-player-controller-setting\"\n      }, toggle ? locale.closeText : locale.openText))), DestroyComponent));\n      var container = getContainer() || document.body;\n      var audioTitle = this.getAudioTitle();\n\n      if (isPlayDestroyed) {\n        return null;\n      }\n\n      return /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('react-jinke-music-player-main', {\n          'light-theme': theme === THEME.LIGHT,\n          'dark-theme': theme === THEME.DARK\n        }, className),\n        style: style,\n        ref: this.player,\n        tabIndex: \"-1\"\n      }, toggle && isMobile && responsive && /*#__PURE__*/React.createElement(AudioPlayerMobile, {\n        playing: playing,\n        loading: loading,\n        pause: pause,\n        name: name,\n        singer: singer,\n        cover: cover,\n        themeSwitch: ThemeSwitchComponent,\n        duration: formattedAudioDuration,\n        currentTime: formattedCurrentTime,\n        progressBar: ProgressBar,\n        onPlay: this.onTogglePlay,\n        currentPlayModeName: currentPlayModeName,\n        playMode: PlayModeComponent,\n        audioNextPlay: this.audioNextPlay,\n        audioPrevPlay: this.audioPrevPlay,\n        icon: _objectSpread(_objectSpread({}, this.iconMap), {}, {\n          reload: ReloadComponent,\n          download: DownloadComponent,\n          lyric: LyricComponent\n        }),\n        playModeTipVisible: playModeTipVisible,\n        openAudioListsPanel: this.openAudioListsPanel,\n        onClose: this.onHidePanel,\n        extendsContent: extendsContent,\n        glassBg: glassBg,\n        autoHiddenCover: autoHiddenCover,\n        onCoverClick: this.onCoverClick,\n        locale: locale\n      }), toggle ? undefined : drag ? /*#__PURE__*/React.createElement(Draggable, {\n        bounds: bounds,\n        position: {\n          x: moveX,\n          y: moveY\n        },\n        onDrag: this.onControllerDrag,\n        onStop: this.onControllerDragStop,\n        onStart: this.onControllerDragStart\n      }, AudioController) : AudioController, toggle && (!isMobile || !responsive) && /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('music-player-panel', 'translate', {\n          'glass-bg': glassBg\n        })\n      }, /*#__PURE__*/React.createElement(\"section\", {\n        className: \"panel-content\"\n      }, (!autoHiddenCover || autoHiddenCover && cover) && /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('img-content', 'img-rotate', {\n          'img-rotate-pause': pause || !playing || !cover\n        }),\n        style: {\n          backgroundImage: \"url(\".concat(cover, \")\")\n        },\n        onClick: function onClick() {\n          return _this4.onCoverClick();\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-bar-content\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"audio-title\",\n        title: audioTitle\n      }, audioTitle), /*#__PURE__*/React.createElement(\"section\", {\n        className: \"audio-main\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"current-time\",\n        title: formattedCurrentTime\n      }, loading ? '--' : formattedCurrentTime), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"progress-bar\"\n      }, ProgressBar), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"duration\",\n        title: formattedAudioDuration\n      }, loading ? '--' : formattedAudioDuration))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"player-content\"\n      }, loading ? this.iconMap.loading : showPlay ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group\"\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group prev-audio\",\n        title: locale.previousTrackText,\n        onClick: this.audioPrevPlay\n      }, this.iconMap.prev), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group play-btn\",\n        onClick: this.onTogglePlay,\n        title: playing ? locale.clickToPauseText : locale.clickToPlayText\n      }, playing ? this.iconMap.pause : this.iconMap.play), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group next-audio\",\n        title: locale.nextTrackText,\n        onClick: this.audioNextPlay\n      }, this.iconMap.next)) : undefined, ReloadComponent, DownloadComponent, ThemeSwitchComponent, extendsContent || null, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group play-sounds\",\n        title: locale.volumeText\n      }, soundValue === 0 ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sounds-icon\",\n        onClick: this.onResetVolume\n      }, this.iconMap.mute) : /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sounds-icon\",\n        onClick: this.onMute\n      }, this.iconMap.volume), /*#__PURE__*/React.createElement(Slider, _extends({\n        max: 1,\n        value: soundValue,\n        onChange: this.audioSoundChange,\n        className: \"sound-operation\"\n      }, sliderBaseOptions))), PlayModeComponent, LyricComponent, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group audio-lists-btn\",\n        title: locale.playListsText,\n        onClick: this.openAudioListsPanel\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"audio-lists-icon\"\n      }, this.iconMap.playLists), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"audio-lists-num\"\n      }, audioLists.length)), toggleMode && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"group hide-panel\",\n        title: locale.toggleMiniModeText,\n        onClick: this.onHidePanel\n      }, this.iconMap.toggle), DestroyComponent))), /*#__PURE__*/React.createElement(AudioListsPanel, {\n        playId: playId,\n        pause: pause,\n        loading: loading,\n        visible: audioListsPanelVisible,\n        audioLists: audioLists,\n        onPlay: this.audioListsPlay,\n        onCancel: this.closeAudioListsPanel,\n        icon: this.iconMap,\n        isMobile: isMobile,\n        panelToggleAnimate: panelToggleAnimate,\n        glassBg: glassBg,\n        cover: cover,\n        remove: remove,\n        onDelete: this.onDeleteAudioLists,\n        removeId: removeId,\n        audioListsDragEnd: this.audioListsDragEnd,\n        locale: locale\n      }), !isMobile && /*#__PURE__*/React.createElement(PlayModel, {\n        visible: playModelNameVisible,\n        value: currentPlayModeName\n      }), audioLyricVisible && /*#__PURE__*/React.createElement(Draggable, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: cls('music-player-lyric', lyricClassName)\n      }, currentLyric || locale.emptyLyricText)), /*#__PURE__*/React.createElement(\"audio\", _extends({\n        className: \"music-player-audio\",\n        title: audioTitle\n      }, preloadState, {\n        src: musicSrc,\n        ref: function ref(node) {\n          _this4.audio = node;\n        }\n      }))), container);\n    }\n  }, {\n    key: \"getBaseAudioInfo\",\n    // 返回给使用者的 音乐信息\n    value: function getBaseAudioInfo() {\n      var _this$state13 = this.state,\n          cover = _this$state13.cover,\n          name = _this$state13.name,\n          musicSrc = _this$state13.musicSrc,\n          soundValue = _this$state13.soundValue,\n          lyric = _this$state13.lyric,\n          audioLists = _this$state13.audioLists,\n          currentLyric = _this$state13.currentLyric;\n\n      var _ref13 = this.audio || {},\n          currentTime = _ref13.currentTime,\n          muted = _ref13.muted,\n          networkState = _ref13.networkState,\n          readyState = _ref13.readyState,\n          played = _ref13.played,\n          paused = _ref13.paused,\n          ended = _ref13.ended,\n          startDate = _ref13.startDate;\n\n      var currentPlayIndex = this.getCurrentPlayIndex();\n      var currentAudioListInfo = audioLists[currentPlayIndex] || {};\n      return _objectSpread(_objectSpread({}, currentAudioListInfo), {}, {\n        cover: cover,\n        name: name,\n        musicSrc: musicSrc,\n        volume: soundValue,\n        currentTime: currentTime,\n        duration: this.audioDuration,\n        muted: muted,\n        networkState: networkState,\n        readyState: readyState,\n        played: played,\n        paused: paused,\n        ended: ended,\n        startDate: startDate,\n        lyric: lyric,\n        currentLyric: currentLyric,\n        playIndex: currentPlayIndex\n      });\n    } // 播放\n\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    // eslint-disable-next-line camelcase\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var audioLists = nextProps.audioLists,\n          playIndex = nextProps.playIndex,\n          theme = nextProps.theme,\n          mode = nextProps.mode,\n          playMode = nextProps.playMode,\n          clearPriorAudioLists = nextProps.clearPriorAudioLists;\n\n      if (!arrayEqual(audioLists)(this.props.audioLists)) {\n        if (clearPriorAudioLists) {\n          this.changeAudioLists(nextProps);\n        } else {\n          this.updateAudioLists(audioLists);\n        }\n\n        if (!this.checkCurrentPlayingAudioIsInUpdatedAudioLists(nextProps)) {\n          this.initPlayer(audioLists, false);\n        }\n      }\n\n      this.updatePlayIndex(playIndex);\n      this.updateTheme(theme);\n      this.updateMode(mode);\n      this.updatePlayMode(playMode);\n    } // eslint-disable-next-line camelcase\n\n  }, {\n    key: \"UNSAFE_componentWillMount\",\n    value: function UNSAFE_componentWillMount() {\n      var _this5 = this;\n\n      var _this$props5 = this.props,\n          audioLists = _this$props5.audioLists,\n          remember = _this$props5.remember;\n\n      if (Array.isArray(audioLists) && audioLists.length >= 1) {\n        var playInfo = this.getPlayInfo(audioLists);\n        var lastPlayStatus = remember ? this.getLastPlayStatus() : {};\n\n        switch (_typeof(playInfo.musicSrc)) {\n          case 'function':\n            playInfo.musicSrc().then(function (val) {\n              _this5.setState(_objectSpread(_objectSpread({}, playInfo), {}, {\n                musicSrc: val\n              }, lastPlayStatus));\n            }, this.onAudioError);\n            break;\n\n          default:\n            this.setState(_objectSpread(_objectSpread({}, playInfo), lastPlayStatus));\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unInstallPlayer();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.addMobileListener();\n      this.addSystemThemeListener();\n      this.initPlayer();\n      this.onGetAudioInstance();\n    }\n  }]);\n\n  return ReactJkMusicPlayer;\n}(PureComponent);\n\n_defineProperty(ReactJkMusicPlayer, \"defaultProps\", {\n  audioLists: [],\n  theme: THEME.DARK,\n  mode: MODE.MINI,\n  defaultPlayMode: PLAY_MODE.order,\n  defaultPosition: {\n    left: 0,\n    top: 0\n  },\n  once: false,\n  // onAudioPlay 事件  是否只触发一次\n  drag: true,\n  toggleMode: true,\n  // 能换在迷你 和完整模式下 互相切换\n  showMiniModeCover: true,\n  // 迷你模式下 是否显示封面图\n  showDownload: true,\n  showPlay: true,\n  showReload: true,\n  showPlayMode: true,\n  showThemeSwitch: true,\n  showLyric: false,\n  playModeTipVisible: false,\n  // 手机端切换播放模式\n  autoPlay: true,\n  defaultVolume: 1,\n  showProgressLoadBar: true,\n  // 音频预加载进度\n  seeked: true,\n  playModeShowTime: 600,\n  // 播放模式提示 显示时间,\n  bounds: 'body',\n  // mini 模式拖拽的可移动边界\n  showMiniProcessBar: false,\n  // 是否在迷你模式 显示进度条\n  loadAudioErrorPlayNext: true,\n  // 加载音频失败时 是否尝试播放下一首\n  preload: false,\n  // 是否在页面加载后立即加载音频\n  glassBg: false,\n  // 是否是毛玻璃效果\n  remember: false,\n  // 是否记住当前播放状态\n  remove: true,\n  // 音乐是否可以删除\n  defaultPlayIndex: 0,\n  // 默认播放索引\n  getContainer: function getContainer() {\n    return document.body;\n  },\n  // 播放器挂载的节点\n  autoHiddenCover: false,\n  // 当前播放歌曲没有封面时是否自动隐藏\n  onBeforeAudioDownload: function onBeforeAudioDownload() {},\n  // 下载前转换音频地址等\n  spaceBar: false,\n  // 是否可以通过空格键 控制播放暂停\n  showDestroy: false,\n  showMediaSession: false,\n  locale: LOCALE.en_US,\n  responsive: true,\n  icon: DEFAULT_ICON,\n  quietUpdate: false // 更新后的播放列表如果有当前正在播放的歌曲不打断当前播放状态\n\n});\n\n_defineProperty(ReactJkMusicPlayer, \"propTypes\", PROP_TYPES);\n\nexport { ReactJkMusicPlayer as default };"]},"metadata":{},"sourceType":"module"}